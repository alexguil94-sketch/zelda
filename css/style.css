/* 40 ans de Zelda — Menu Chronologie (HTML/CSS/JS)
   Palette: #F2C94C (or), #4A90E2 (bleu), #7E7E7E (pierre), #D32F2F (rubis)
*/

:root{
  --gold:#F2C94C;
  --blue:#4A90E2;
  --stone:#7E7E7E;
  --ruby:#D32F2F;
  --forest:#1B4D3E;

  /* Vertical focus for the background image (reduce “only sky/clouds” on wide screens) */
  --bg-focal-y: 60%;

  --bg:#0e1111;
  --paper:#f6efe1;
  --ink:#1c1f1f;

  --radius:20px;
  --shadow:0 18px 50px rgba(0,0,0,.25);

  --title:'Cinzel Decorative', serif;
  --sub:'Uncial Antiqua', serif;
  --text:'EB Garamond', serif;

  /* UI tokens (theme overrides possible) */
  --ui-link: var(--gold);
  --ui-link-hover: color-mix(in srgb, var(--gold) 30%, white);
  --ui-btn-text: #0f1412;
  --ui-btn-text-on-dark: #ffffff;

  /* Typo (demande : or pour titres/majuscules, rouge pour paragraphes) */
  --caps-gold: var(--gold);
  --para-red: rgba(211,47,47,.92);
}


/* IMPORTANT: si ton projet a un reset CSS qui casse l'attribut HTML `hidden`,
   cette règle garantit que les modales restent invisibles tant qu'elles sont `hidden`. */
[hidden]{display:none !important;}

/* UtilisÃ© par le filtre JS */
.is-hidden{display:none !important;}

/* Bloque le scroll quand une modale/lightbox est ouverte */
body.no-scroll{overflow:hidden;}

*{box-sizing:border-box}
html,body{height:100%; overflow-x:hidden;}
body{
  margin:0;
  font-family:var(--text);
  color:rgba(255,255,255,.88);
  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(74,144,226,.18), transparent 55%),
    radial-gradient(900px 700px at 80% 20%, rgba(242,201,76,.18), transparent 55%),
    radial-gradient(900px 700px at 60% 90%, rgba(211,47,47,.12), transparent 55%),
    linear-gradient(180deg, #0b0f10, #0e1111 35%, #0c1010);
}

img{max-width:100%;height:auto;display:block}
button{font-family:inherit}

/* Liens globaux */
a{ color: var(--ui-link); text-underline-offset: 3px; }
a:hover{ color: var(--ui-link-hover); }
a:focus-visible{ outline: 2px solid color-mix(in srgb, var(--gold) 55%, transparent); outline-offset: 3px; border-radius: 10px; }


/* Typo color rules */
:where(h1,h2,h3,h4,h5,.caps,.brand span,.nav a,.btn,.tab,.tree-title,.branch h3,.portal-top h3){
  color: var(--caps-gold);
}
p{ color: var(--para-red); }

.container{width:min(1100px, 92vw); margin:0 auto;}

.skip{
  position:absolute; left:-999px; top:12px;
  background:#111; color:#fff; padding:10px 12px; border-radius:10px;
}
.skip:focus{left:12px; z-index:9999}

/* Header */
.header{
  position:sticky; top:0; z-index:20;
  background: var(--header-bg);
  backdrop-filter: blur(2px);
  border-bottom:1px solid var(--header-line);
}

/* En mode clair, pas de flou (sinon les lettres “bavent” sur fond parchemin) */
html[data-theme="light"] .header{ backdrop-filter:none; }
.header-inner{display:flex; align-items:center; gap:14px; padding:10px 0;}

.brand{display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--header-ink);}
.brand img{width:44px;height:44px; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.25)}
.brand span{font-family:var(--sub); letter-spacing:.6px}

.burger{
  margin-left:auto;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  color:#fff;
  cursor:pointer;
}


.burger:hover,
.burger:focus-visible{
  border-color: rgba(242,201,76,.55);
  background: rgba(242,201,76,.14);
  box-shadow: 0 12px 26px rgba(0,0,0,.25);
  transform: translateY(-1px);
}


/* Drawer navigation (works on desktop + mobile)
   The JS toggles body.nav-open.
*/
body.nav-open{ overflow:hidden; }

.nav{ 
  position:fixed;
  top:0;
  left:0;
  height:100vh;
  width:min(420px, 88vw);
  display:flex;
  flex-direction:column;
  gap:10px;
  padding:86px 16px 18px;
  z-index:30;

  transform:translateX(-110%);
  visibility:hidden;
  transition: transform .28s cubic-bezier(.2,.8,.2,1);

  /* “vieux grimoire” : fond & liserés pilotés par le thème */
  background: var(--drawer-bg);
  border-right:1px solid var(--drawer-edge);
  box-shadow: 0 26px 80px rgba(0,0,0,.55);
}
body.nav-open .nav, .nav.is-open{ transform:translateX(0); visibility:visible; }

.nav a{
  text-decoration:none;
  color:var(--text);
  padding:12px 12px;
  border-radius:14px;
  border:1px solid var(--line);
  background: var(--surface);
  font-family: var(--sub);
  letter-spacing:.35px;
  transition:
    background .18s ease,
    border-color .18s ease,
    box-shadow .18s ease,
    transform .18s ease,
    color .18s ease;
}
.nav a:hover,
.nav a:focus-visible{
  border-color:rgba(242,201,76,.65);
  background:linear-gradient(180deg, rgba(242,201,76,.22), rgba(0,0,0,.08));
  box-shadow:
    0 14px 34px rgba(0,0,0,.35),
    0 0 0 1px rgba(242,201,76,.12),
    0 0 22px rgba(242,201,76,.18);
  transform:translateX(6px);
  color:rgba(242,201,76,.98);
}
.nav a.is-active{border-color:rgba(242,201,76,.45); background:rgba(242,201,76,.14)}
.nav .nav-cta{border-color:rgba(74,144,226,.45); background:rgba(74,144,226,.12)}

html[data-theme="light"] .nav a:hover,
html[data-theme="light"] .nav a:focus-visible{
  border-color:rgba(27,77,62,.45);
  background:linear-gradient(180deg, rgba(27,77,62,.12), rgba(255,255,255,.14));
  box-shadow:
    0 14px 34px rgba(0,0,0,.12),
    0 0 0 1px rgba(27,77,62,.10);
  transform:translateX(6px);
  color:rgba(242,201,76,.98);
}

@media (min-width: 920px){
  .nav{ width:min(460px, 78vw); padding-top:92px; }
}

/* Hero */
.hero{padding:34px 0 10px;}
.hero-inner{display:grid; gap:18px; align-items:stretch;}
.hero-text{
  background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.08);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:22px;
}
.hero h1{
  font-family:var(--title);
  margin:0 0 10px;
  font-size: clamp(1.6rem, 2.4vw, 2.2rem);
  letter-spacing:.5px;
}
.hero p{margin:0; color:rgba(255,255,255,.78); line-height:1.35}

.hero-actions{display:flex; flex-wrap:wrap; gap:10px; margin-top:16px}

.hero-card{
  margin:0;
  border-radius:var(--radius);
  overflow:hidden;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.04);
  box-shadow:var(--shadow);
}
.hero-card img{aspect-ratio: 4/3; object-fit:cover}
.hero-card figcaption{padding:12px 14px; color:rgba(255,255,255,.72)}

@media (min-width: 860px){
  .hero-inner{grid-template-columns: 1.1fr .9fr}
}

/* Sections */
.section{padding:28px 0}
.section-muted{
  background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
  border-top:1px solid rgba(255,255,255,.06);
  border-bottom:1px solid rgba(255,255,255,.06);
}

/* --- Livre / grimoire : “grand ouvrage” qui enveloppe la page --- */
.bookShell{
  position:relative;
  width:min(1180px, 94vw);
  margin: 18px auto 42px;
  padding: 20px 16px 34px;
  border-radius: calc(var(--radius) + 14px);
  border:1px solid var(--panel-border);
  background: var(--panel-bg);
  box-shadow: 0 20px 80px rgba(0,0,0,.35);
  overflow:visible;
}

/* Texture papier / fibres */
.bookShell:before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:
    repeating-linear-gradient(0deg, rgba(0,0,0,.055), rgba(0,0,0,.055) 1px, transparent 1px, transparent 8px),
    radial-gradient(1200px 700px at 30% 0%, rgba(242,201,76,.10), transparent 60%),
    radial-gradient(900px 600px at 80% 10%, rgba(74,144,226,.08), transparent 60%),
    radial-gradient(900px 600px at 60% 90%, rgba(210,47,47,.06), transparent 60%);
  opacity: .55;
  mix-blend-mode: multiply;
}

/* Bordure intérieure “enluminure” */
.bookShell:after{
  content:"";
  position:absolute;
  inset: 12px;
  border-radius: calc(var(--radius) + 10px);
  border: 1px solid color-mix(in srgb, var(--gold) 28%, var(--panel-border));
  pointer-events:none;
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--blue) 12%, transparent);
  opacity: .85;
}

/* Ouverture “deux pages” (effet livre) */
.bookShell.openBook{ padding-left: 18px; padding-right: 18px; }
.bookShell.openBook .spine{
  position:absolute;
  top:12px;
  bottom:12px;
  left:50%;
  width: 44px;
  transform: translateX(-50%);
  background:
    linear-gradient(90deg,
      rgba(0,0,0,.15) 0%,
      rgba(0,0,0,.06) 20%,
      rgba(0,0,0,.02) 50%,
      rgba(0,0,0,.06) 80%,
      rgba(0,0,0,.15) 100%);
  border-left: 1px solid color-mix(in srgb, var(--gold) 18%, transparent);
  border-right: 1px solid color-mix(in srgb, var(--gold) 18%, transparent);
  opacity: .35;
  pointer-events:none;
}

@media (max-width: 860px){
  .bookShell.openBook .spine{ display:none; }
  .bookShell:after{ inset: 10px; }
}

.section-head{margin-bottom:16px}
.section-head h2{
  font-family:var(--sub);
  letter-spacing:.7px;
  margin:0 0 8px;
}
.section-head p{margin:0; color:var(--text-muted)}

/* Buttons */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:11px 14px;
  border-radius:14px;
  border:1px solid var(--btn-border);
  background:var(--btn-bg);
  color:var(--btn-text);
  text-decoration:none;
  cursor:pointer;
  gap:8px;
}
.btn:hover{background:var(--btn-bg-hover)}
.btn:focus-visible{
  outline: 2px solid color-mix(in srgb, var(--gold) 55%, transparent);
  outline-offset: 3px;
}
.btn-ghost{border-color:var(--ghost-border); background:var(--ghost-bg); color:var(--ghost-text)}
.btn-ghost:hover{background:var(--ghost-hover)}
.btn-small{padding:9px 11px; border-radius:12px}

.icon-btn{
  width:42px; height:42px;
  border-radius:14px;
  border:1px solid var(--icon-border);
  background:var(--icon-bg);
  color:var(--icon-text);
  cursor:pointer;
}
.icon-btn:hover{background:var(--icon-hover)}
.icon-btn:focus-visible{
  outline: 2px solid color-mix(in srgb, var(--gold) 55%, transparent);
  outline-offset: 3px;
}

.muted{color:var(--text-muted)}

/* Portals */
.portal-grid{display:grid; gap:12px}
.portal{
  border-radius:var(--radius);
  overflow:hidden;
  border:1px solid rgba(255,255,255,.09);
  background:
    radial-gradient(900px 400px at 30% 20%, color-mix(in srgb, var(--accent) 30%, transparent), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow:var(--shadow);
  padding:16px;
}
.portal-top h3{margin:0; font-family:var(--title); font-size:1.25rem}
.portal-top p{margin:6px 0 0; color:rgba(255,255,255,.76)}
.portal-actions{display:flex; gap:10px; margin-top:14px; flex-wrap:wrap}

@media (min-width: 860px){
  .portal-grid{grid-template-columns: repeat(2, 1fr)}
}

.mini-game-callout{
  margin-top:14px;
  border-radius:var(--radius);
  border:1px solid rgba(74,144,226,.18);
  background:rgba(74,144,226,.08);
  padding:16px;
  display:flex; align-items:center; justify-content:space-between;
  gap:14px; flex-wrap:wrap;
}
.mini-game-callout h3{margin:0; font-family:var(--sub)}
.mini-game-callout p{margin:6px 0 0; color:rgba(255,255,255,.78)}

/* Tree */
.tree{
  border-radius:var(--radius);
  border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.03);
  box-shadow:var(--shadow);
  padding:16px;
}
.tree-root{display:flex; justify-content:center; margin-bottom:14px}

.tree-node{
  width:100%;
  text-align:left;
  padding:12px 12px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.05);
  color:#fff;
  cursor:pointer;
}
.tree-node:hover{background:rgba(255,255,255,.08)}
.tree-title{display:block; font-family:var(--sub); letter-spacing:.5px}
.tree-sub{display:block; color:rgba(255,255,255,.72); font-size:.95rem; margin-top:2px}

.tree-branches{
  display:grid;
  gap:12px;
  margin-top:10px;
}
.branch h3{margin:0 0 10px; font-family:var(--title); font-size:1.05rem; letter-spacing:.4px}
.branch-list{display:grid; gap:10px}

@media (min-width: 980px){
  .tree-branches{grid-template-columns: repeat(3, 1fr)}
}

.tree-convergence{margin-top:14px; position:relative; padding-top:16px}
.convergence-line{
  height:1px;
  background:linear-gradient(90deg, transparent, rgba(242,201,76,.35), transparent);
  margin:0 10px 12px;
}
.convergence-nodes{display:grid; gap:10px}
@media (min-width: 860px){
  .convergence-nodes{grid-template-columns: 1fr 1fr}
}

/* Footer */
.footer{padding:18px 0 34px; color:rgba(255,255,255,.72)}
.footer p{margin:0; line-height:1.35}
.sep{margin:0 10px; opacity:.6}
.chip{display:inline-block; width:14px; height:14px; border-radius:4px; background:var(--c); vertical-align:-2px; margin:0 6px}

/* Modal */
.modal{position:fixed; inset:0; z-index:50; display:grid; place-items:center; padding:16px}
.modal-backdrop{position:absolute; inset:0; background:rgba(0,0,0,.65)}
.modal-panel{
  position:relative;
  width:min(980px, 100%);
  border-radius:calc(var(--radius) + 6px);
  border:1px solid rgba(255,255,255,.10);
  background:
    radial-gradient(800px 400px at 20% 0%, rgba(242,201,76,.14), transparent 55%),
    linear-gradient(180deg, rgba(16,20,20,.98), rgba(10,14,14,.96));
  box-shadow:0 26px 80px rgba(0,0,0,.55);
  overflow:hidden;
}

.modal-head{display:flex; align-items:flex-start; justify-content:space-between; gap:10px; padding:16px 16px 10px}
.modal-head h2{margin:0; font-family:var(--title); letter-spacing:.4px}
.modal-head p{margin:4px 0 0}

.modal-body{display:grid; gap:14px; padding:0 16px 16px}
.modal-media{display:grid; gap:12px}
.media{
  position:relative;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.03);
  overflow:hidden;
  cursor:zoom-in;
  padding:0;
}
.media img{width:100%; height:220px; object-fit:cover}
.media-hint{
  position:absolute; right:10px; bottom:10px;
  font-size:.92rem;
  padding:7px 9px;
  border-radius:12px;
  background:rgba(0,0,0,.45);
  border:1px solid rgba(255,255,255,.10);
}

.bullets{margin:0; padding-left:18px; color:rgba(255,255,255,.80)}
.bullets li{margin:6px 0}

.modal-actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}

@media (min-width: 860px){
  .modal-body{grid-template-columns: 1fr 1fr; align-items:start}
  .modal-media{grid-template-columns: 1fr;}
  .media img{height:260px}
}

/* Lightbox */
.lightbox{position:fixed; inset:0; z-index:60; display:grid; place-items:center; padding:16px}
.lightbox-backdrop{position:absolute; inset:0; background:rgba(0,0,0,.78)}
.lightbox-panel{
  position:relative;
  width:min(1100px, 100%);
  border-radius:calc(var(--radius) + 8px);
  border:1px solid rgba(255,255,255,.10);
  background:rgba(12,16,16,.96);
  box-shadow:0 30px 90px rgba(0,0,0,.65);
  overflow:hidden;
}

.lightbox-toolbar{display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid rgba(255,255,255,.10)}
.lightbox-actions{display:flex; gap:8px}
.btn-small{padding:8px 10px}

.lightbox-stage{
  height:min(70vh, 620px);
  display:grid;
  place-items:center;
  overflow:hidden;
  cursor:grab;
}
.lightbox-stage:active{cursor:grabbing}
.lightbox-stage img{
  max-width:none;
  transform-origin:center;
  user-select:none;
  -webkit-user-drag:none;
}
.lightbox-hint{margin:0; padding:10px 12px; border-top:1px solid rgba(255,255,255,.10)}

/* Lightbox (zoom) â€” pages fiches */
.ficheLightbox{
  position:fixed;
  inset:0;
  z-index:70;
  display:none;
  place-items:center;
  padding:16px;
  background:rgba(0,0,0,.78);
}
.ficheLightbox.is-open{ display:grid; }
.fiche-lb-panel{
  position:relative;
  width:min(1100px, 100%);
  border-radius:calc(var(--radius) + 8px);
  border:1px solid rgba(255,255,255,.10);
  background:rgba(12,16,16,.96);
  box-shadow:0 30px 90px rgba(0,0,0,.65);
  overflow:hidden;
}
.fiche-lb-toolbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 12px;
  border-bottom:1px solid rgba(255,255,255,.10);
}
.fiche-lb-controls{ display:flex; gap:8px; }
.fiche-lb-stage{
  height:min(70vh, 620px);
  display:grid;
  place-items:center;
  overflow:hidden;
  cursor:grab;
}
.fiche-lb-stage:active{ cursor:grabbing; }
.fiche-lb-img{
  max-width:none;
  transform-origin:center;
  user-select:none;
  -webkit-user-drag:none;
}
.fiche-lb-hint{
  margin:0;
  padding:10px 12px;
  border-top:1px solid rgba(255,255,255,.10);
  color:rgba(255,255,255,.72);
}

/* Motion */
@media (prefers-reduced-motion: reduce){
  *{scroll-behavior:auto !important; transition:none !important; animation:none !important}
}


/* ===== Fiches decade styles — Grimoire “vrai livre” ===== */

/* Les fiches utilisent un spread (double page) dans .bookShell */
.ficheSpread{
  position:relative;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:0;
  border-radius: calc(var(--radius) + 10px);
  overflow:hidden;

  border:1px solid rgba(0,0,0,.20);
  background:
    linear-gradient(90deg,
      rgba(0,0,0,.10) 0%,
      rgba(0,0,0,.00) 12%,
      rgba(0,0,0,.00) 88%,
      rgba(0,0,0,.10) 100%);
  box-shadow: 0 22px 60px rgba(0,0,0,.22);
  margin: 6px; /* laisse respirer la reliure (.spine) */
}

.fichePage{
  position:relative;
  padding: 24px 22px;
  min-height: min(72vh, 880px);
  color: var(--paper-ink);
  background:
    /* identique aux cartes de la page Chronologie :
       laisse apparaître le fond "parchemin" du .bookShell (image sous-jacente) */
    linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.42)),
    radial-gradient(900px 500px at 20% 10%, rgba(242,201,76,.16), transparent 60%),
    radial-gradient(900px 500px at 80% 30%, rgba(27,77,62,.12), transparent 60%);
}

/* Grain + tâches d’encre */
.fichePage::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity:.55;
  background:
    radial-gradient(22px 18px at 10% 12%, rgba(0,0,0,.10), transparent 60%),
    radial-gradient(12px 12px at 18% 28%, rgba(0,0,0,.06), transparent 62%),
    radial-gradient(18px 14px at 74% 18%, rgba(0,0,0,.07), transparent 62%),
    radial-gradient(16px 16px at 86% 72%, rgba(0,0,0,.07), transparent 64%),
    radial-gradient(24px 18px at 22% 82%, rgba(0,0,0,.06), transparent 62%),
    repeating-linear-gradient(-6deg, rgba(0,0,0,.025) 0 1px, transparent 1px 7px);
  mix-blend-mode: multiply;
}

/* Coins “usés” (léger) */
.fichePage::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity:.50;
  background:
    radial-gradient(60px 60px at 0 0, rgba(0,0,0,.10), transparent 68%),
    radial-gradient(60px 60px at 100% 0, rgba(0,0,0,.10), transparent 68%),
    radial-gradient(60px 60px at 0 100%, rgba(0,0,0,.10), transparent 68%),
    radial-gradient(60px 60px at 100% 100%, rgba(0,0,0,.10), transparent 68%);
}

/* Ombre interne proche de la reliure */
.fichePage--left{ box-shadow: inset -24px 0 40px rgba(0,0,0,.14); }
.fichePage--right{ box-shadow: inset  24px 0 40px rgba(0,0,0,.14); }

/* En-tête “folio” (page gauche) */
.folioHead{
  position:relative;
  z-index:1;
  display:grid;
  gap:6px;
  margin-bottom:14px;
  padding-bottom:12px;
  border-bottom:1px solid rgba(0,0,0,.18);
}
.folioKicker{
  font-family: var(--sub);
  letter-spacing:.7px;
  text-transform:uppercase;
  font-size:12px;
  opacity:.85;
}
.folioTitle{
  font-family: var(--title);
  margin:0;
  font-size: clamp(1.2rem, 2.2vw, 1.6rem);
  letter-spacing:.4px;
}
.folioSub{
  margin:0;
  color: rgba(0,0,0,.70);
  line-height:1.2;
}
.folioSeal{
  display:inline-flex;
  align-items:center;
  gap:10px;
}
.folioSeal img{
  width:56px;
  height:56px;
  border-radius:16px;
  border:1px solid rgba(0,0,0,.15);
  box-shadow:0 14px 36px rgba(0,0,0,.20);
}

/* Illustration page gauche */
.folioArt{
  position:relative;
  z-index:1;
  margin:10px 0 14px;
  border-radius: 18px;
  overflow:hidden;
  border:1px solid rgba(0,0,0,.16);
  background: rgba(255,255,255,.55);
  box-shadow: 0 16px 42px rgba(0,0,0,.18);
}
.folioArt img{
  width:100%;
  height: 240px;
  object-fit: cover;
  display:block;
  filter: saturate(.95) contrast(1.02);
}

/* Sommaire */
.folioNav{
  position:relative;
  z-index:1;
  display:grid;
  gap:8px;
  margin-top:10px;
}
.folioNav a{
  text-decoration:none;
  color: rgba(0,0,0,.86);
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.45);
  font-weight:900;
}
.folioNav a:hover{
  background: rgba(242,201,76,.20);
  border-color: rgba(242,201,76,.55);
}
.folioNav a.is-active{
  background: rgba(242,201,76,.26);
  border-color: rgba(242,201,76,.70);
}

/* Contenu (page droite) */
.ficheDoc{ position:relative; z-index:1; }
.ficheDoc h1{
  font-family:var(--title);
  margin:0 0 6px;
  letter-spacing:.4px;
}
.ficheDoc .subhead{

  margin:0 0 14px;
  color: rgba(0,0,0,.68);
  font-weight:900;
}
.ficheDoc h2{
  font-family:var(--sub);
  margin:18px 0 10px;
  letter-spacing:.6px;
}
.ficheDoc h3{
  font-family:var(--sub);
  margin:14px 0 8px;
}
.ficheDoc p{ color: rgba(0,0,0,.78); line-height:1.52; }
.ficheDoc ul{ color: rgba(0,0,0,.78); }
.ficheDoc a{ color: var(--ui-link); text-decoration:underline; text-underline-offset:3px; }
.ficheDoc a:hover{ color: var(--ui-link-hover); }

.ficheDoc .section{
  border:1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.42);
  border-radius: 18px;
  padding:14px;
  margin:12px 0;
  box-shadow: 0 12px 26px rgba(0,0,0,.12);
}
.ficheDoc .grid{ display:grid; gap:10px; grid-template-columns:1fr; }
@media (min-width: 980px){
  .ficheDoc .grid{ grid-template-columns: 1fr 1fr; }
}
.ficheDoc .game{
  border:1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.52);
  border-radius: 18px;
  padding:12px;
}
.ficheDoc .meta{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin:0 0 8px;
  font-size:13px;
  color: rgba(0,0,0,.65);
  font-weight:900;
}
.ficheDoc .tag{
  display:inline-flex;
  align-items:center;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.58);
  box-shadow: 0 10px 22px rgba(0,0,0,.10);
}

.ficheDoc .gallery{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:10px; }
@media (min-width: 980px){
  .ficheDoc .gallery{ grid-template-columns: repeat(3, 1fr); }
}
.ficheDoc .thumb{
  width:100%;
  cursor:zoom-in;
  padding:0;
  border-radius:16px;
  border:1px solid rgba(0,0,0,.14);
  overflow:hidden;
  background: rgba(255,255,255,.55);
  box-shadow: 0 12px 26px rgba(0,0,0,.14);
}
.ficheDoc .thumb img{ width:100%; height:160px; object-fit:cover; display:block; }
.ficheDoc .thumb figcaption{ padding:10px; color: rgba(0,0,0,.70); font-size:13px; }

.ficheDoc table{
  width:100%;
  border-collapse:collapse;
  font-size:14px;
  overflow:hidden;
  border-radius:16px;
  border:1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.55);
}
.ficheDoc th,.ficheDoc td{
  padding:10px 10px;
  border-bottom:1px solid rgba(0,0,0,.10);
  vertical-align:top;
}
.ficheDoc th{
  text-align:left;
  color: rgba(0,0,0,.78);
  background: rgba(242,201,76,.16);
  font-family: var(--sub);
  letter-spacing:.4px;
}
.ficheDoc tr:last-child td{ border-bottom:none; }

/* Navigation décennies */
.decadePager{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:space-between;
  align-items:center;
  margin-top:14px;
  padding-top:12px;
  border-top:1px solid rgba(0,0,0,.18);
  position:relative;
  z-index:1;
}
.pagerBtn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(0,0,0,.16);
  background: rgba(255,255,255,.48);
  color: rgba(0,0,0,.86);
  text-decoration:none;
  font-weight:900;
  cursor:pointer;
}
.pagerBtn:hover{
  background: rgba(242,201,76,.22);
  border-color: rgba(242,201,76,.70);
}
.pagerBtn.is-disabled{
  opacity:.45;
  cursor:not-allowed;
  pointer-events:none;
}

/* Responsive — empilement (mobile) */
@media (max-width: 980px){
  .ficheSpread{ grid-template-columns: 1fr; margin: 0; }
  .bookShell .spine{ display:none; }
  .fichePage{ min-height:auto; }
  .folioArt img{ height:200px; }
}


/* =========================================================
   Effet “page tournée” (changement de page / décennie)
   - JS: /js/pageTurn.js ajoute .turn-enter / .turn-leave
   ========================================================= */

.pageTurnStage{ perspective: 1400px; }

.pageTurn{
  position:relative;
  transform-style: preserve-3d;
  will-change: transform, opacity;
}

/* Coins usés + taches d’encre (léger) */
.pageTurn::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity:.22;
  background:
    radial-gradient(140px 110px at 12% 18%, rgba(0,0,0,.22), transparent 65%),
    radial-gradient(180px 140px at 78% 28%, rgba(0,0,0,.18), transparent 70%),
    radial-gradient(240px 170px at 64% 78%, rgba(0,0,0,.16), transparent 72%),
    radial-gradient(120px 90px at 22% 86%, rgba(0,0,0,.14), transparent 68%),
    radial-gradient(90px 90px at 86% 70%, rgba(0,0,0,.12), transparent 70%);
  mix-blend-mode: multiply;
}

.pageTurn::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity:.36;
  background:
    radial-gradient(110px 110px at 0 0, rgba(0,0,0,.25), transparent 70%),
    radial-gradient(110px 110px at 100% 0, rgba(0,0,0,.20), transparent 70%),
    radial-gradient(120px 120px at 0 100%, rgba(0,0,0,.22), transparent 72%),
    radial-gradient(120px 120px at 100% 100%, rgba(0,0,0,.18), transparent 72%),
    linear-gradient(90deg, rgba(0,0,0,.08), transparent 18%, transparent 82%, rgba(0,0,0,.06));
  mix-blend-mode: multiply;
}

html[data-theme="light"] .pageTurn::before{ opacity:.18; }
html[data-theme="light"] .pageTurn::after{ opacity:.26; }

/* Animation entrée */
.pageTurn.turn-enter{
  transform-origin: 100% 50%;
  animation: pageIn .55s cubic-bezier(.22,.9,.22,1);
}

/* Animation sortie */
.pageTurn.turn-leave{
  transform-origin: 0% 50%;
  animation: pageOut .55s cubic-bezier(.22,.9,.22,1) forwards;
}

@keyframes pageIn{
  from{ opacity:0; transform: rotateY(78deg) translateX(8px); filter: blur(.6px); }
  to{ opacity:1; transform: rotateY(0deg) translateX(0); filter:none; }
}
@keyframes pageOut{
  from{ opacity:1; transform: rotateY(0deg) translateX(0); }
  to{ opacity:0; transform: rotateY(-92deg) translateX(-12px); }
}

@media (prefers-reduced-motion: reduce){
  .pageTurn.turn-enter, .pageTurn.turn-leave{ animation:none !important; transform:none !important; opacity:1 !important; }
}

/* Petit “relief” de page pendant la rotation */
.pageTurn.turn-leave{ box-shadow: -18px 0 40px rgba(0,0,0,.22); }
html[data-theme="light"] .pageTurn.turn-leave{ box-shadow: -18px 0 40px rgba(27,77,62,.18); }


html[data-theme="light"] .header{ backdrop-filter: none; }

/* Drawer “grimoire” texture */
.navDrawer::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:
    radial-gradient(600px 380px at 30% 10%, rgba(242,201,76,.12), transparent 60%),
    radial-gradient(520px 320px at 70% 88%, rgba(74,144,226,.10), transparent 60%),
    repeating-linear-gradient(0deg, rgba(0,0,0,.06) 0 2px, transparent 2px 6px);
  opacity:.40;
  mix-blend-mode:multiply;
}
html[data-theme="light"] .navDrawer::before{
  opacity:.22;
  background:
    radial-gradient(620px 420px at 30% 10%, rgba(242,201,76,.10), transparent 62%),
    radial-gradient(520px 320px at 70% 88%, rgba(74,144,226,.08), transparent 62%),
    repeating-linear-gradient(0deg, rgba(40,25,10,.06) 0 2px, transparent 2px 6px);
}


/* =========================================================
   Grimoire “personnalisable” — thèmes + textures
   Tu peux remplacer les images dans /assets/img/ui/ :
   - parchment_bg_light.jpg / parchment_bg_dark.jpg = fond de page
   - paper_tile.jpg = texture du papier (tile)
   ========================================================= */

:root{
  /* Surfaces “livre” */
  --paper-bg: #f3e7c9;
  --paper-bg2:#efe0bf;
  --paper-ink:#2a2416;
  --paper-muted: rgba(42,36,22,.72);
  --paper-line: rgba(66,52,34,.18);
  --paper-shadow: 0 18px 50px rgba(0,0,0,.22);

  /* UI */
  --header-bg: rgba(10,14,14,.68);
  --header-ink: rgba(255,255,255,.94);
  --header-line: rgba(255,255,255,.12);

  --drawer-bg:
    linear-gradient(180deg, rgba(18,16,12,.97), rgba(10,12,12,.96)),
    url("../assets/img/ui/drawer-parchment.png");
  --drawer-ink: rgba(246,241,227,.92);
  --drawer-edge: rgba(242,201,76,.35);

  --panel-bg: rgba(243,231,201,.92);
  --panel-border: rgba(66,52,34,.20);

  --body-ink: rgba(255,255,255,.90);
  --body-bg:
    radial-gradient(1200px 700px at 30% 0%, rgba(27,77,62,.35) 0%, rgba(11,30,45,.70) 35%, rgba(6,10,13,.92) 100%),
    url("../assets/img/ui/bg_dark.png");

  /* Liens & accents */
  --ui-link: #f2c94c;
  --ui-link-hover: #ffd86a;
  --ui-ink: rgba(255,255,255,.90);
  --ui-muted: rgba(255,255,255,.72);
}

/* Light mode = “sans noir” + vert/or + parchemin */
html[data-theme="light"]{
  --para-red: #8b1d1d;
  --header-bg: linear-gradient(180deg, #1b4d3e, #143a33);
  --header-ink: #f6f1e3;
  --header-line: rgba(242,201,76,.55);

  --drawer-bg:
    linear-gradient(180deg, rgba(244,235,214,.98), rgba(236,223,190,.98)),
    url("../assets/img/ui/drawer-parchment.png");
  --drawer-ink: #1f2a22;
  --drawer-edge: rgba(27,77,62,.35);

  --panel-bg: rgba(245,236,214,.96);
  --panel-border: rgba(27,77,62,.22);

  --body-ink: #1f2a22;
  --body-bg:
    radial-gradient(1100px 700px at 20% 0%, rgba(27,77,62,.12) 0%, transparent 55%),
    radial-gradient(900px 700px at 80% 20%, rgba(242,201,76,.16) 0%, transparent 55%),
    url("../assets/img/ui/bg_light.png");

  --ui-link: #1b4d3e;
  --ui-link-hover: #123427;
  --ui-ink: #1f2a22;
  --ui-muted: rgba(31,42,34,.70);
}

/* Applique le fond et la couleur globale */
body{
  color: var(--body-ink);
  background: var(--body-bg);
  background-size: cover, cover;
  background-position: center;
  background-attachment: fixed, fixed;
  /* La barre burger/thème est fixed en haut : on évite qu’elle recouvre le contenu */
  padding-top: 0;
}

/* Header + nav (moins flou / plus net) */
.header{
  background: var(--header-bg);
  border-bottom: 1px solid var(--header-line);
  backdrop-filter: none;
}
.brand span{ color: var(--header-ink); }
.brand img{ outline: 2px solid rgba(242,201,76,.15); }
.burger, .icon-btn{
  border-color: color-mix(in srgb, var(--header-line) 70%, transparent);
  background: rgba(255,255,255,.06);
  color: var(--header-ink);
}
html[data-theme="light"] .burger,
html[data-theme="light"] .icon-btn{
  background: rgba(255,255,255,.18);
  border-color: rgba(242,201,76,.45);
}

/* Overlay du menu (manquait => liens “bizarres”) */
.nav-overlay{
  position:fixed;
  inset:0;
  z-index:25;
  background: rgba(0,0,0,.48);
}
html[data-theme="light"] .nav-overlay{
  background: rgba(31,42,34,.22);
}

/* Drawer */
.nav{
  background:
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(0,0,0,.40)),
    url("../assets/img/ui/drawer-parchment.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  color: var(--drawer-ink);
  border-right: 1px solid var(--drawer-edge);
  box-shadow: 18px 0 50px rgba(0,0,0,.45);
  backdrop-filter: none;
  filter: none;
}

html[data-theme="light"] .nav{
  background:
    linear-gradient(180deg, rgba(255,255,255,.30), rgba(255,255,255,.05)),
    url("../assets/img/ui/drawer-parchment.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  box-shadow: 18px 0 40px rgba(0,0,0,.25);
}

.nav a{
  display:flex;
  align-items:center;
  gap:10px;
  padding:14px 14px;
  border-radius:14px;
  border:1px solid rgba(0,0,0,.18);
  background:rgba(255,255,255,.06);
  color:var(--drawer-ink);
  font-family:var(--sub);
  letter-spacing:.45px;
  text-transform:uppercase;
  text-shadow:0 1px 0 rgba(0,0,0,.35);
  transition:transform .18s ease, background .18s ease, border-color .18s ease, box-shadow .18s ease, color .18s ease;
}
html[data-theme="light"] .nav a{
  border-color:rgba(0,0,0,.10);
  background:rgba(255,255,255,.18);
  text-shadow:none;
}

.nav a:hover,
.nav a:focus-visible{
  border-color:rgba(242,201,76,.80);
  background:rgba(242,201,76,.18);
  box-shadow:0 10px 24px rgba(0,0,0,.25), 0 0 0 1px rgba(242,201,76,.14);
  transform:translateX(8px);
  color:rgba(242,201,76,.98);
}
html[data-theme="light"] .nav a:hover,
html[data-theme="light"] .nav a:focus-visible{
  border-color:rgba(27,77,62,.55);
  background:rgba(27,77,62,.10);
  box-shadow:0 10px 24px rgba(0,0,0,.14), 0 0 0 1px rgba(27,77,62,.12);
  transform:translateX(8px);
  color:rgba(27,77,62,.95);
}

.nav a.is-active{
  border-color:rgba(242,201,76,.80);
  background:rgba(242,201,76,.22);
  box-shadow:0 12px 28px rgba(0,0,0,.28), 0 0 0 1px rgba(242,201,76,.16);
}
html[data-theme="light"] .nav a.is-active{
  border-color:rgba(242,201,76,.85);
  background:rgba(242,201,76,.28);
  color:rgba(27,77,62,.95);
}
/* === Look “vrai livre” : tout ce qui est dans le livre = encre sombre sur papier === */
.bookShell{
  background: var(--panel-bg);
  border-color: var(--panel-border);
  color: var(--paper-ink);
}
.bookShell::before{
  background:
    url("../assets/img/ui/drawer-parchment.png") center/cover no-repeat;
  opacity:.35;
  mix-blend-mode:multiply;
}

/* Variante “panneau central” : fond parchemin (sans reliure) */
.bookShell.panelShell{
  background:
    linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.52)),
    var(--panel-texture);
  background-repeat: no-repeat, no-repeat;
  background-size: cover, cover;
  background-position: center, center;
}
html[data-theme="dark"] .bookShell.panelShell{
  background:
    radial-gradient(900px 700px at 50% 18%, rgba(0,0,0,.18), rgba(0,0,0,.26)),
    linear-gradient(180deg, rgba(255,255,255,.64), rgba(255,255,255,.48)),
    var(--panel-texture);
  background-repeat: no-repeat, no-repeat, no-repeat;
  background-size: cover, cover, cover;
  background-position: center, center, center;
}
.bookShell.panelShell::before{
  background:none;
  opacity:0;
  mix-blend-mode:normal;
}

/* Sections de la chronologie / index */
.bookShell .hero-text,
.bookShell .hero-card,
.bookShell .portal,
.bookShell .tree,
.bookShell .mini-game-callout{
  background:
    linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.42)),
    radial-gradient(900px 500px at 20% 10%, rgba(242,201,76,.16), transparent 60%),
    radial-gradient(900px 500px at 80% 30%, rgba(27,77,62,.12), transparent 60%);
  border: 1px solid var(--paper-line);
  box-shadow: var(--paper-shadow);
  color: var(--paper-ink);
}

.bookShell :is(
  .hero-text,
  .portal,
  .tree,
  .mini-game-callout,
  .ganonOrigin,
  .linkOrigin,
  .zelda-summary,
  .link-summary,
  .lore-card,
  .linkMeaning,
  .zelda-timelineWrap,
  .zelda-accordionPanel,
  .ganonAccordionPanel,
  .ganonGameCard,
  .ganonModernCard,
  .ganonLoreCard,
  .ganonDossierCard,
  .ganonGalleryEra,
  .ganonRefsCard,
  .linkCard
){
  position: relative;
  z-index: 0;
  isolation: isolate;
}

.bookShell :is(
  .hero-text,
  .portal,
  .tree,
  .mini-game-callout,
  .ganonOrigin,
  .linkOrigin,
  .zelda-summary,
  .link-summary,
  .lore-card,
  .linkMeaning,
  .zelda-timelineWrap,
  .zelda-accordionPanel,
  .ganonAccordionPanel,
  .ganonGameCard,
  .ganonModernCard,
  .ganonLoreCard,
  .ganonDossierCard,
  .ganonGalleryEra,
  .ganonRefsCard,
  .linkCard
)::before{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: var(--section-frame) center / 100% 100% no-repeat;
  opacity: var(--section-frame-opacity);
  filter: blur(var(--section-frame-blur)) saturate(1.05);
  z-index: -1;
}

.page-decade .ficheDoc .section{
  z-index: 0;
  isolation: isolate;
}
.page-decade .ficheDoc .section::after{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: var(--section-frame) center / 100% 100% no-repeat;
  opacity: var(--section-frame-opacity);
  filter: blur(var(--section-frame-blur)) saturate(1.05);
  z-index: -1;
}

.bookShell .hero p,
.bookShell .hero-card figcaption,
.bookShell .portal-top p,
.bookShell .section-head p,
.bookShell .muted{ color: var(--paper-muted); }


/* Fix lisibilité : boutons de l’arbre en “papier” (évite texte blanc) */
.bookShell .tree-node{
  color: var(--paper-ink);
  border-color: var(--paper-line);
  background: rgba(255,255,255,.55);
}
.bookShell .tree-node:hover{ background: rgba(255,255,255,.70); }
.bookShell .tree-sub{ color: var(--paper-muted); }

/* Liens dans les pages “livre” */
.bookShell a{ color: var(--ui-link); text-decoration: none; }
.bookShell a:hover{ color: var(--ui-link-hover); text-decoration: underline; }

/* Drop cap (style grimoire) sur les premières lignes de chaque section de fiche */
.ficheDoc .section p:first-of-type::first-letter{
  float:left;
  font-family: var(--title);
  font-size: 3.4rem;
  line-height: .9;
  margin: 0.18rem .55rem 0 0;
  color: color-mix(in srgb, var(--gold) 70%, #2a2416);
  text-shadow: 0 2px 0 rgba(0,0,0,.10);
}

/* Petits “rubans” marque-page (décor) */
.bookShell .bookmark{
  display: none;
  position:absolute;
  top:-8px;
  right: 80px;
  width: 28px;
  height: 180px;
  background: linear-gradient(180deg, rgba(211,47,47,.92), rgba(120,10,10,.86));
  clip-path: polygon(0 0, 100% 0, 100% 88%, 50% 100%, 0 88%);
  box-shadow: 0 12px 28px rgba(0,0,0,.35);
  opacity:.85;
  pointer-events:none;
}
html[data-theme="light"] .bookShell .bookmark{
  opacity:.72;
}



/* =========================================
   Light mode: lisibilité (Chronologie + cartes)
   ========================================= */
html[data-theme="light"] body{ color: var(--ui-ink); }
html[data-theme="light"] .muted,
html[data-theme="light"] .hero p,
html[data-theme="light"] .section-head p,
html[data-theme="light"] .portal-top p,
html[data-theme="light"] .tree-sub,
html[data-theme="light"] .footer,
html[data-theme="light"] .lightbox-hint{ color: var(--ui-muted); }

html[data-theme="light"] .hero-text,
html[data-theme="light"] .portal,
html[data-theme="light"] .tree{
  border-color: var(--panel-border);
  background: var(--panel-bg);
}

html[data-theme="light"] .tree-node{
  color: var(--ui-ink);
  border-color: rgba(27,77,62,.18);
  background: rgba(255,255,255,.55);
}
html[data-theme="light"] .tree-node:hover{
  border-color: rgba(242,201,76,.45);
  background: rgba(242,201,76,.14);
}

html[data-theme="light"] .section-muted{
  background: rgba(27,77,62,.04);
  border-top:1px solid rgba(27,77,62,.12);
  border-bottom:1px solid rgba(27,77,62,.12);
}



/* =========================================
   Drawer “parchemin” (comme ta réf)
   ========================================= */
:root{
  --drawer-texture: url('../assets/img/ui/drawer-parchment.png');
  --panel-texture: var(--drawer-texture);
  --section-frame: url('../assets/img/ui/menu-drawer.png');
  --section-frame-opacity: .10;
  --section-frame-blur: 1.1px;
}

html[data-theme="light"]{
  --section-frame-opacity: .16;
  --section-frame-blur: .9px;
}

/* Base drawer (tous thèmes) */
.nav{
  background:
    linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.10)),
    var(--drawer-texture);
  background-size: cover;
  background-position: center;
  border-right: 1px solid rgba(242,201,76,.35);
  box-shadow: 18px 0 40px rgba(0,0,0,.35);
  backdrop-filter: none;
}

/* Sur le thème sombre : un voile + sombre pour garder la lisibilité */
html[data-theme="dark"] .nav{
  background:
    radial-gradient(900px 700px at 50% 20%, rgba(0,0,0,.55), rgba(0,0,0,.75)),
    var(--drawer-texture);
  background-size: cover;
  background-position: center;
}

/* Liens : effet visible au hover */
.nav a{
  color: var(--caps-gold);
  border-color: rgba(0,0,0,.14);
  background: rgba(255,255,255,.10);
  text-shadow: 0 1px 0 rgba(0,0,0,.25);
}
html[data-theme="dark"] .nav a{
  border-color: rgba(255,255,255,.10);
  background: rgba(0,0,0,.25);
  text-shadow: 0 1px 0 rgba(0,0,0,.55);
}

.nav a:hover,
.nav a:focus-visible{
  transform: translateX(6px);
  border-color: rgba(242,201,76,.65);
  background: rgba(242,201,76,.16);
  box-shadow: 0 10px 24px rgba(0,0,0,.18);
}

.nav a.is-active{
  border-color: rgba(242,201,76,.75);
  background: rgba(242,201,76,.22);
}

/* Bouton Mini‑jeu plus “call to action” */
.nav a.nav-cta{
  border-color: rgba(211,47,47,.45);
  background: rgba(211,47,47,.12);
}
.nav a.nav-cta:hover,
.nav a.nav-cta:focus-visible{
  border-color: rgba(211,47,47,.70);
  background: rgba(211,47,47,.18);
}

/* =========================================
   Chronologie : pas de texte blanc sur parchemin
   ========================================= */
.tree, .portal, .hero-text{
  color: var(--ink);
}
.tree-node,
.portal-top h3,
.branch h3,
.section-head h2,
.hero h1,
.modal-head h2{
  color: var(--ink);
}
.tree-sub,
.section-head p,
.hero p,
.portal-top p,
.footer,
.lightbox-hint,
.muted{
  color: var(--muted);
}

/* Tree nodes : styles “papier” en clair, plus sombre en dark */
.tree-node{
  background: rgba(255,255,255,.55);
  border-color: rgba(0,0,0,.10);
}
.tree-node:hover{
  background: rgba(242,201,76,.14);
  border-color: rgba(242,201,76,.55);
}
html[data-theme="dark"] .tree-node{
  background: rgba(0,0,0,.28);
  border-color: rgba(255,255,255,.12);
}
html[data-theme="dark"] .tree-node:hover{
  background: rgba(242,201,76,.10);
  border-color: rgba(242,201,76,.40);
}

/* =========================================
   Chronologie : lisibilité sur fond parchemin
   ========================================= */
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .hero-text,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .hero-card,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .portal,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .tree,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .footer{
  color: var(--ink);
}

:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .hero p,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .portal-top p,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .section-head p,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .hero-card figcaption,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .footer p{
  color: var(--para-red);
}

:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .tree-node,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .portal .btn,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .btn{
  color: var(--caps-gold);
}

:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .tree-sub,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .muted{
  color: var(--muted);
}

:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .tree,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .hero-text,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .hero-card,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .portal{
  border-color: var(--line);
  background: var(--card-bg);
}

:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .tree-node{
  border: 1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.55);
  box-shadow: 0 12px 32px rgba(0,0,0,.12);
}
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .tree-node:hover{
  background: rgba(255,255,255,.72);
  border-color: rgba(242,201,76,.55);
  transform: translateY(-1px);
}

/* Dark theme : garde des cartes plus “encre” */
html[data-theme="dark"] :is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .tree-node{
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.22);
  box-shadow: 0 18px 50px rgba(0,0,0,.35);
}
html[data-theme="dark"] :is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .tree-node:hover{
  background: rgba(0,0,0,.30);
  border-color: rgba(242,201,76,.40);
}

/* Drawer plus clair en mode "clair" (moins sombre, plus parchemin) */
html[data-theme="light"] .nav{
  background:
    linear-gradient(180deg, rgba(255,255,255,.35), rgba(255,255,255,.18)),
    var(--drawer-texture);
  border-right-color: rgba(80,60,30,.25);
}
html[data-theme="light"] .nav a{
  color: rgba(40,28,16,.92);
}
html[data-theme="light"] .nav a:hover{
  background: rgba(255,255,255,.52);
  border-color: rgba(242,201,76,.55);
}
html[data-theme="light"] .nav a.is-active{
  color: rgba(40,28,16,.98);
  background: rgba(242,201,76,.18);
}


/* FINAL NAV OVERRIDES — assure le hover même si d'autres règles existent */
.nav a{
  transition: transform .18s ease, background .18s ease, border-color .18s ease, box-shadow .18s ease, color .18s ease;
  will-change: transform;
}
.nav a:hover,
.nav a:focus-visible{
  transform: translateX(6px);
  background: rgba(242,201,76,.18);
  border-color: rgba(242,201,76,.55);
  color: var(--caps-gold);
  box-shadow: 0 14px 28px rgba(0,0,0,.16);
}
html[data-theme="light"] .nav a:hover,
html[data-theme="light"] .nav a:focus-visible{
  background: rgba(242,201,76,.22);
  box-shadow: 0 14px 28px rgba(0,0,0,.14);
}

/* =========================================================
   NAV DRAWER FIX (last rules win)
   - Prevents “burger opens then nothing happens” caused by z-index/interaction
   - Ensures hover effect is always visible
   ========================================================= */

.header{ z-index: 100; }
.nav-overlay{ z-index: 90; }
.nav{ z-index: 95; }

/* Make sure the drawer can't capture hover/click when closed */
.nav{ pointer-events: none; opacity: 0; }
body.nav-open .nav,
.nav.is-open{ pointer-events: auto; opacity: 1; }

/* Overlay fade (works even if you keep the [hidden] attribute) */
.nav-overlay{ opacity: 0; transition: opacity .18s ease; }
body.nav-open .nav-overlay{ opacity: 1; }

/* Stronger hover state (more obvious) */
.nav a{
  position: relative;
  overflow: hidden;
}
.nav a::before{
  content:"";
  position:absolute;
  left:0;
  top:0;
  bottom:0;
  width: 4px;
  background: rgba(242,201,76,.0);
  transition: background .18s ease;
}
.nav a:hover::before,
.nav a:focus-visible::before{ background: rgba(242,201,76,.85); }

.nav a:hover,
.nav a:focus-visible{
  transform: translateX(10px);
  background: rgba(242,201,76,.22);
  border-color: rgba(242,201,76,.80);
  box-shadow: 0 16px 32px rgba(0,0,0,.22), 0 0 0 1px rgba(242,201,76,.12);
}

html[data-theme="light"] .nav a:hover,
html[data-theme="light"] .nav a:focus-visible{
  background: rgba(255,255,255,.55);
  border-color: rgba(242,201,76,.70);
  box-shadow: 0 16px 32px rgba(0,0,0,.14);
}

/* =========================================================
   Header “bannière” (menu image) — Le Palais de Zelda
   - même header sur Accueil / Chronologie / Décennies
   - nav rapide sur la bannière + burger drawer (mobile & desktop)
   ========================================================= */

/* Header “bannière” : image + barre d'outils par-dessus */
.header.headerBanner{ 
  position: relative;
  top: auto;
  z-index: auto;
  border-bottom: 0;
  background: transparent;
  backdrop-filter: none;
}

.headerBanner .banner{
  position: relative;
  width: 100%;
  padding-top: 64px;
}

.headerBanner .banner-img{
  width: 100%;
  max-width: 1024px;
  height: auto;
  display: block;
  margin: 0 auto;
}

/* outils (burger + thème) posés sur la bannière */
.headerBanner .banner-controls{
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 64px;
  z-index: 50;
  pointer-events: none;
  display: flex;
  align-items: center;
  background: var(--header-bg);
  border-bottom: 1px solid var(--header-line);
  backdrop-filter: none;
}
.headerBanner .banner-controls .container{
  width: 100%;
  height: 100%;
  padding-top: 0;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 10px;
}
.headerBanner .banner-controls .container > *{ pointer-events: auto; }

/* Marque + titre dans la barre de nav */
.brand--banner{
  max-width: min(52vw, 420px);
  min-width: 0;
  flex: 0 0 auto;
}
.brand--banner span{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
@media (max-width: 520px){
  .brand--banner span{ display:none; }
}

/* Nav rapide dans la bannière (barre du haut) */
.banner-nav{
  position: static;
  transform: none;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: center;
  flex: 1 1 auto;
  min-width: 0;
  padding: 0;
  border: 0;
  background: transparent;
  backdrop-filter: none;
}

.banner-nav .bannerBtn{
  appearance: none;
  -webkit-appearance: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  text-decoration: none;
  padding: 9px 12px;
  border-radius: 999px;
  border: 1px solid rgba(242,201,76,.22);
  background:
    radial-gradient(600px 140px at 20% 40%, rgba(242,201,76,.16), transparent 55%),
    rgba(255,255,255,.08);
  color: rgba(255,255,255,.92);
  font-family: var(--sub);
  letter-spacing: .45px;
  text-transform: uppercase;
  box-shadow: 0 10px 26px rgba(0,0,0,.22);
  cursor: pointer;
  line-height: 1;
  transition:
    transform .18s ease,
    background .18s ease,
    border-color .18s ease,
    box-shadow .18s ease,
    color .18s ease;
}

.banner-nav .bannerBtn:hover,
.banner-nav .bannerBtn:focus-visible{
  transform: translateY(-1px);
  background:
    radial-gradient(600px 140px at 20% 40%, rgba(242,201,76,.26), transparent 55%),
    rgba(242,201,76,.14);
  border-color: rgba(242,201,76,.70);
  color: rgba(242,201,76,.98);
  box-shadow: 0 16px 34px rgba(0,0,0,.26);
}

.banner-nav .bannerBtn.is-active,
.banner-nav .bannerBtn[aria-expanded="true"]{
  background:
    radial-gradient(600px 140px at 20% 40%, rgba(242,201,76,.22), transparent 55%),
    rgba(242,201,76,.16);
  border-color: rgba(242,201,76,.85);
  color: rgba(242,201,76,.98);
}

html[data-theme="light"] .banner-nav{
  background: transparent;
  border-color: transparent;
}
html[data-theme="light"] .banner-nav .bannerBtn{
  background:
    radial-gradient(600px 140px at 20% 40%, rgba(242,201,76,.14), transparent 55%),
    rgba(255,255,255,.65);
  border-color: rgba(0,0,0,.12);
  color: rgba(40,28,16,.92);
}
html[data-theme="light"] .banner-nav .bannerBtn:hover,
html[data-theme="light"] .banner-nav .bannerBtn:focus-visible{
  background: rgba(242,201,76,.22);
  border-color: rgba(242,201,76,.55);
  color: rgba(40,28,16,.98);
}

.banner-nav .bannerBtn--cta{
  border-color: rgba(74,144,226,.35);
  background:
    radial-gradient(600px 140px at 20% 40%, rgba(74,144,226,.22), transparent 55%),
    rgba(74,144,226,.12);
}
.banner-nav .bannerBtn--cta:hover,
.banner-nav .bannerBtn--cta:focus-visible{
  border-color: rgba(74,144,226,.55);
  background:
    radial-gradient(600px 140px at 20% 40%, rgba(74,144,226,.26), transparent 55%),
    rgba(74,144,226,.16);
  color: rgba(255,255,255,.96);
}
html[data-theme="light"] .banner-nav .bannerBtn--cta{
  border-color: rgba(74,144,226,.30);
  background:
    radial-gradient(600px 140px at 20% 40%, rgba(74,144,226,.14), transparent 55%),
    rgba(255,255,255,.65);
}

/* Dropdown "Pages" */
.bannerPages{ position: relative; }
.bannerBtn--pages::after{
  content:"▾";
  font-size: .9em;
  opacity: .9;
}
.bannerPagesMenu{
  position: absolute;
  top: calc(100% + 10px);
  left: 50%;
  transform: translateX(-50%);
  width: 220px;
  border-radius: 16px;
  border: 1px solid rgba(242,201,76,.28);
  background:
    radial-gradient(700px 240px at 20% 0%, rgba(242,201,76,.16), transparent 60%),
    rgba(0,0,0,.72);
  box-shadow: 0 26px 70px rgba(0,0,0,.45);
  padding: 8px;
  z-index: 60;
}
.bannerPagesMenu a{
  display:flex;
  align-items:center;
  justify-content: space-between;
  padding: 10px 12px;
  border-radius: 12px;
  text-decoration: none;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.92);
  font-family: var(--sub);
  letter-spacing: .35px;
  text-transform: uppercase;
}
.bannerPagesMenu a:hover,
.bannerPagesMenu a:focus-visible{
  background: rgba(242,201,76,.16);
  border-color: rgba(242,201,76,.55);
  color: rgba(242,201,76,.98);
}
html[data-theme="light"] .bannerPagesMenu{
  background:
    radial-gradient(700px 240px at 20% 0%, rgba(242,201,76,.12), transparent 60%),
    rgba(255,255,255,.92);
  border-color: rgba(0,0,0,.14);
  box-shadow: 0 26px 70px rgba(0,0,0,.18);
}
html[data-theme="light"] .bannerPagesMenu a{
  background: rgba(255,255,255,.68);
  border-color: rgba(0,0,0,.12);
  color: rgba(40,28,16,.92);
}
html[data-theme="light"] .bannerPagesMenu a:hover,
html[data-theme="light"] .bannerPagesMenu a:focus-visible{
  background: rgba(242,201,76,.22);
  border-color: rgba(242,201,76,.55);
  color: rgba(40,28,16,.98);
}

@media (max-width: 860px){
  .banner-nav{ display:none; }
}

/* Boutons "classe" (burger + thème) dans le header bannière */
.headerBanner .burger,
.headerBanner .icon-btn{
  height: 44px;
  border-radius: 999px;
  border: 1px solid rgba(242,201,76,.26);
  background:
    radial-gradient(600px 140px at 20% 40%, rgba(242,201,76,.12), transparent 55%),
    rgba(255,255,255,.08);
  box-shadow: 0 12px 30px rgba(0,0,0,.26);
  transition:
    transform .18s ease,
    background .18s ease,
    border-color .18s ease,
    box-shadow .18s ease,
    color .18s ease;
}
.headerBanner .burger{
  margin-left: 0;
  padding: 0 14px;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  color: rgba(255,255,255,.92);
  letter-spacing: .35px;
}
.headerBanner .burger::before{
  content: "☰";
  font-size: 1.05rem;
  line-height: 1;
  opacity: .95;
}
.headerBanner .icon-btn{
  width: 44px;
  padding: 0;
  display: grid;
  place-items: center;
  color: rgba(255,255,255,.92);
}
.headerBanner .burger:hover,
.headerBanner .burger:focus-visible,
.headerBanner .icon-btn:hover,
.headerBanner .icon-btn:focus-visible{
  transform: translateY(-1px);
  background:
    radial-gradient(600px 140px at 20% 40%, rgba(242,201,76,.22), transparent 55%),
    rgba(242,201,76,.12);
  border-color: rgba(242,201,76,.70);
  box-shadow: 0 16px 36px rgba(0,0,0,.30);
  color: rgba(242,201,76,.98);
}
html[data-theme="light"] .headerBanner .burger,
html[data-theme="light"] .headerBanner .icon-btn{
  background:
    radial-gradient(600px 140px at 20% 40%, rgba(242,201,76,.14), transparent 55%),
    rgba(255,255,255,.65);
  border-color: rgba(0,0,0,.12);
  color: rgba(40,28,16,.92);
  box-shadow: 0 12px 28px rgba(0,0,0,.14);
}
html[data-theme="light"] .headerBanner .burger:hover,
html[data-theme="light"] .headerBanner .burger:focus-visible,
html[data-theme="light"] .headerBanner .icon-btn:hover,
html[data-theme="light"] .headerBanner .icon-btn:focus-visible{
  background: rgba(242,201,76,.22);
  border-color: rgba(242,201,76,.55);
  color: rgba(40,28,16,.98);
}

/* Drawer: sécurise l'interaction (le drawer offscreen ne capte pas la souris) */
.nav{ pointer-events: none; }
body.nav-open .nav,
.nav.is-open{ pointer-events: auto; }

/* =========================================================
   Footer (parchemin)
   ========================================================= */
.siteFooter{
  padding: 18px 0 44px;
}

.siteFooter .footerCard{
  position: relative;
  overflow: hidden;
  border-radius: calc(var(--radius) + 4px);
  border: 1px solid var(--paper-line);
  background:
    linear-gradient(180deg, rgba(255,255,255,.78), rgba(255,255,255,.44)),
    radial-gradient(900px 500px at 18% 10%, rgba(242,201,76,.16), transparent 60%),
    radial-gradient(900px 500px at 82% 70%, rgba(27,77,62,.12), transparent 60%),
    url("../assets/img/ui/paper_tile.png");
  background-size: auto, auto, auto, 420px 420px;
  box-shadow: var(--paper-shadow);
  padding: 18px;
}

.siteFooter .footerGrid{
  display: grid;
  gap: 14px;
  align-items: start;
}
@media (min-width: 860px){
  .siteFooter .footerGrid{ grid-template-columns: 1.15fr 1fr 1fr; }
}

.siteFooter .footerBrandLink{
  text-decoration: none;
}
.siteFooter .footerBrandLink img{
  width: 48px;
  height: 48px;
  border-radius: 14px;
  box-shadow: 0 12px 32px rgba(0,0,0,.16);
}
.siteFooter p.footerTagline{
  margin: 10px 0 0;
  color: var(--paper-muted);
  line-height: 1.35;
}

.siteFooter .footerNav{
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
@media (max-width: 520px){
  .siteFooter .footerNav{ grid-template-columns: 1fr; }
}

.siteFooter .footerNav a,
.siteFooter a.footerTop{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,.12);
  background: rgba(255,255,255,.46);
  color: var(--paper-ink);
  text-decoration: none;
  font-family: var(--sub);
  letter-spacing: .45px;
  text-transform: uppercase;
  transition: transform .18s ease, background .18s ease, border-color .18s ease, box-shadow .18s ease, color .18s ease;
}

.siteFooter .footerNav a:hover,
.siteFooter .footerNav a:focus-visible,
.siteFooter a.footerTop:hover,
.siteFooter a.footerTop:focus-visible{
  transform: translateY(-1px);
  border-color: rgba(242,201,76,.70);
  background: rgba(242,201,76,.18);
  box-shadow: 0 14px 28px rgba(0,0,0,.14);
}

.siteFooter .footerMeta{
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.siteFooter p.footerNote{
  margin: 0;
  color: var(--paper-muted);
  line-height: 1.35;
}

:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .siteFooter p.footerNote,
:is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .siteFooter p.footerTagline{
  color: var(--paper-muted);
}

/* =========================================
   Page Ganon — Chronologie
   ========================================= */
.page-ganon{
  --ganon-defeat: var(--gold);
  --ganon-child: var(--blue);
  --ganon-adult: var(--blue);
}

.page-ganon .ganonSubtitle{ margin: 0; }

.page-ganon .ganonOrigin{
  display:flex;
  align-items:baseline;
  gap:10px;
  flex-wrap:wrap;
  margin-top: 12px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px dashed color-mix(in srgb, var(--gold) 35%, transparent);
  background: rgba(242,201,76,.08);
}
.page-ganon .bookShell .ganonOrigin{
  background: rgba(255,255,255,.55);
  border-color: color-mix(in srgb, var(--gold) 40%, var(--paper-line));
}
.page-ganon .ganonOriginTitle{
  font-family: var(--sub);
  letter-spacing: .5px;
  text-transform: uppercase;
  font-size: .95rem;
}
.page-ganon .ganonOriginGame{
  font-family: var(--title);
  letter-spacing: .2px;
}
.page-ganon .ganonOriginHint{ font-size: .95rem; }

.page-ganon .hero-card--ganon{
  position:relative;
  isolation:isolate;
  min-height: 320px;
}
.page-ganon .hero-card--ganon .hero-card-bg{
  width:100%;
  height:100%;
  min-height: 320px;
  object-fit: cover;
  aspect-ratio: auto;
}
.page-ganon .hero-card--ganon::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index: 1;
  background: linear-gradient(135deg, rgba(0,0,0,.62), rgba(0,0,0,.16) 45%, rgba(0,0,0,.70));
}
.page-ganon .hero-card--ganon::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index: 2;
  background:
    radial-gradient(700px 420px at 50% 40%, rgba(74,144,226,.22), transparent 60%),
    radial-gradient(700px 420px at 65% 75%, rgba(242,201,76,.18), transparent 60%);
  mix-blend-mode: screen;
  opacity: .75;
}
.page-ganon .hero-card--ganon .hero-card-badge{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  z-index: 3;
  pointer-events:none;
}
.page-ganon .hero-card--ganon .hero-card-badge svg{
  filter: drop-shadow(0 18px 40px rgba(0,0,0,.55));
}
.page-ganon .hero-card--ganon figcaption{
  position:absolute;
  left:0;
  right:0;
  bottom:0;
  z-index: 4;
  padding: 12px 14px;
  background: linear-gradient(180deg, transparent, rgba(0,0,0,.72));
  color: rgba(255,255,255,.88);
  border-top: 1px solid rgba(255,255,255,.10);
}
.page-ganon .ganonCode{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: .95em;
}

.page-ganon .ganonFilters{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin: 10px 0 16px;
}
.page-ganon .filterBtn.is-active{
  border-color: color-mix(in srgb, var(--gold) 70%, transparent);
  box-shadow: 0 14px 28px rgba(0,0,0,.14);
  transform: translateY(-1px);
}

.page-ganon .ganonTimelineGrid{
  display:grid;
  gap: 14px;
}
@media (min-width: 980px){
  .page-ganon .ganonTimelineGrid{ grid-template-columns: repeat(3, 1fr); }
}

.page-ganon .ganonGameList{
  list-style: none;
  margin: 14px 0 0;
  padding: 0;
  display: grid;
  gap: 12px;
}

.page-ganon .ganonGameCard{
  display:grid;
  grid-template-columns: 90px 1fr;
  gap: 12px;
  align-items: stretch;
  padding: 10px;
  border-radius: 18px;
  border: 1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.55);
  box-shadow: 0 14px 30px rgba(0,0,0,.10);
  overflow:hidden;
}
.page-ganon .ganonGameCard img{
  width: 100%;
  height: 90px;
  object-fit: cover;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,.12);
}
.page-ganon .ganonGameBody h4{
  margin: 2px 0 6px;
  font-family: var(--title);
  font-size: 1.02rem;
  letter-spacing: .2px;
}
.page-ganon .ganonGameBody p{
  margin: 0 0 10px;
  line-height: 1.25;
}
.page-ganon .ganonGameTag span{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.14);
  background:
    radial-gradient(600px 200px at 20% 50%, color-mix(in srgb, var(--accent) 28%, transparent), transparent 55%),
    rgba(255,255,255,.42);
  font-family: var(--sub);
  letter-spacing: .35px;
  text-transform: uppercase;
  font-size: .78rem;
}

.page-ganon .ganonBand{
  position: relative;
  width: 100vw;
  margin: 14px calc(50% - 50vw) 0;
  padding: 20px 0;
  overflow:hidden;
  border-top: 1px solid rgba(0,0,0,.12);
  border-bottom: 1px solid rgba(0,0,0,.12);
}
.page-ganon .ganonBand::before{
  content:"";
  position:absolute;
  inset:-40px;
  background:
    radial-gradient(900px 520px at 20% 20%, rgba(74,144,226,.24), transparent 60%),
    radial-gradient(900px 520px at 80% 30%, rgba(74,144,226,.22), transparent 60%),
    radial-gradient(900px 520px at 50% 80%, rgba(242,201,76,.14), transparent 60%);
  filter: blur(12px);
  opacity: .85;
  animation: ganon-aura 8s ease-in-out infinite;
  pointer-events:none;
}
.page-ganon .ganonBand::after{
  content:"";
  position:absolute;
  inset:0;
  background: url("../assets/img/ui/paper_tile.png");
  background-size: 420px 420px;
  opacity: .16;
  mix-blend-mode: multiply;
  pointer-events:none;
}
@keyframes ganon-aura{
  0%{ transform: translate3d(0,0,0) scale(1); }
  50%{ transform: translate3d(0,-8px,0) scale(1.04); }
  100%{ transform: translate3d(0,0,0) scale(1); }
}

.page-ganon .ganonModernGrid{
  position: relative;
  z-index: 1;
  display: grid;
  gap: 14px;
}
@media (min-width: 860px){
  .page-ganon .ganonModernGrid{ grid-template-columns: 1fr 1fr; }
}

.page-ganon .ganonModernCard{
  border-radius: var(--radius);
  border: 1px solid rgba(0,0,0,.14);
  background: linear-gradient(180deg, rgba(255,255,255,.74), rgba(255,255,255,.46));
  box-shadow: var(--paper-shadow);
  padding: 14px;
  overflow:hidden;
}
.page-ganon .ganonModernHead h3{
  margin:0;
  font-family: var(--title);
  font-size: 1.25rem;
  letter-spacing: .2px;
}
.page-ganon .ganonModernHead p{ margin:4px 0 0; }
.page-ganon .ganonModernMedia{ margin-top: 10px; }
.page-ganon .ganonModernMedia img{
  border-radius: 18px;
  border: 1px solid rgba(0,0,0,.12);
  height: 180px;
  width:100%;
  object-fit: cover;
}
.page-ganon .ganonAccordion{ margin-top: 12px; }
.page-ganon .ganonAccordionPanel{
  margin-top: 10px;
  border-radius: 16px;
  border: 1px solid rgba(0,0,0,.12);
  background: rgba(255,255,255,.50);
  padding: 10px 12px;
}
.page-ganon .ganonAccordionPanel ul{
  margin: 0;
  padding-left: 18px;
}
.page-ganon .ganonAccordionPanel li{ margin: 6px 0; }

.page-ganon .ganonLegend{
  border-radius: var(--radius);
  border: 1px solid rgba(0,0,0,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.44)),
    radial-gradient(900px 500px at 18% 10%, rgba(242,201,76,.14), transparent 60%),
    radial-gradient(900px 500px at 82% 70%, rgba(27,77,62,.10), transparent 60%);
  box-shadow: var(--paper-shadow);
  padding: 16px;
}
.page-ganon .ganonLegend h2{ margin-top:0; }
.page-ganon .ganonLegendList{
  margin: 10px 0 0;
  padding-left: 18px;
}
.page-ganon .ganonLegendList li{ margin: 6px 0; }

.page-ganon .ganonAppearances{
  margin: 0 0 14px;
  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid rgba(0,0,0,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.48)),
    radial-gradient(800px 260px at 20% 0%, rgba(74,144,226,.12), transparent 60%);
  box-shadow: 0 14px 30px rgba(0,0,0,.10);
}
.page-ganon .ganonAppearancesTitle{
  margin: 0 0 10px;
  font-family: var(--sub);
  letter-spacing: .5px;
  text-transform: uppercase;
  font-size: 1rem;
}
.page-ganon .ganonAppearancesList{
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.page-ganon .ganonAppearanceChip{
  display: inline-flex;
  align-items: center;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.14);
  background:
    radial-gradient(640px 200px at 20% 50%, rgba(27,77,62,.16), transparent 56%),
    radial-gradient(640px 200px at 86% 70%, rgba(74,144,226,.18), transparent 58%),
    rgba(255,255,255,.55);
  font-family: var(--sub);
  letter-spacing: .35px;
  font-size: .78rem;
  text-transform: uppercase;
}

.page-ganon .ganonLoreGrid{
  display: grid;
  gap: 14px;
}
@media (min-width: 980px){
  .page-ganon .ganonLoreGrid{
    grid-template-columns: 1fr 1fr;
  }
}

.page-ganon .ganonLoreCard{
  border-radius: var(--radius);
  border: 1px solid rgba(0,0,0,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.74), rgba(255,255,255,.48)),
    radial-gradient(900px 420px at 18% 10%, rgba(27,77,62,.10), transparent 60%),
    radial-gradient(900px 420px at 82% 70%, rgba(74,144,226,.14), transparent 62%);
  box-shadow: var(--paper-shadow);
  padding: 14px;
}
.page-ganon .ganonLoreHead{
  display: flex;
  flex-wrap: wrap;
  align-items: baseline;
  justify-content: space-between;
  gap: 8px;
}
.page-ganon .ganonLoreHead h3{
  margin: 0;
  font-family: var(--title);
  letter-spacing: .2px;
  font-size: 1.14rem;
}
.page-ganon .ganonLoreHead p{
  margin: 0;
  font-size: .92rem;
}
.page-ganon .ganonLoreSummary{
  margin: 10px 0 0;
  line-height: 1.3;
}
.page-ganon .ganonLoreList{
  margin: 10px 0 0;
  padding-left: 18px;
}
.page-ganon .ganonLoreList li{ margin: 6px 0; }

.page-ganon .ganonDossierGrid{
  display: grid;
  gap: 14px;
}
@media (min-width: 980px){
  .page-ganon .ganonDossierGrid{
    grid-template-columns: repeat(3, 1fr);
  }
}
.page-ganon .ganonDossierCard{
  border-radius: var(--radius);
  border: 1px solid rgba(0,0,0,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.74), rgba(255,255,255,.48)),
    radial-gradient(900px 420px at 16% 8%, rgba(211,47,47,.08), transparent 58%),
    radial-gradient(900px 420px at 88% 86%, rgba(74,144,226,.14), transparent 62%);
  box-shadow: var(--paper-shadow);
  padding: 14px;
}
.page-ganon .ganonDossierHead{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}
.page-ganon .ganonDossierHead h3{
  margin: 0;
  font-family: var(--title);
  letter-spacing: .2px;
  font-size: 1.06rem;
}
.page-ganon .ganonDossierList{
  margin: 10px 0 0;
  padding-left: 18px;
}
.page-ganon .ganonDossierList li{
  margin: 6px 0;
  line-height: 1.3;
}

.page-ganon .ganonGalleryGrid{
  display: grid;
  gap: 14px;
}
.page-ganon .ganonGalleryEra{
  border-radius: var(--radius);
  border: 1px solid rgba(0,0,0,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.74), rgba(255,255,255,.48)),
    radial-gradient(900px 420px at 15% 10%, rgba(27,77,62,.10), transparent 58%),
    radial-gradient(900px 420px at 88% 80%, rgba(74,144,226,.14), transparent 62%);
  box-shadow: var(--paper-shadow);
  padding: 14px;
}
.page-ganon .ganonGalleryHead h3{
  margin: 0;
  font-family: var(--title);
  letter-spacing: .2px;
  font-size: 1.12rem;
}
.page-ganon .ganonGalleryHead p{
  margin: 6px 0 0;
}
.page-ganon .ganonGalleryPhotos{
  margin-top: 12px;
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}
.page-ganon .ganonGalleryItem{
  margin: 0;
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.56);
}
.page-ganon .ganonGalleryItem img{
  display: block;
  width: 100%;
  height: 156px;
  object-fit: cover;
}
.page-ganon .ganonGalleryCaption{
  padding: 10px 11px 11px;
  display: grid;
  gap: 4px;
}
.page-ganon .ganonGalleryCaption strong{
  font-family: var(--sub);
  letter-spacing: .25px;
  font-size: .9rem;
}
.page-ganon .ganonGalleryCaption span{
  font-size: .95rem;
  line-height: 1.25;
}

.page-ganon .ganonRefsCard{
  border-radius: var(--radius);
  border: 1px solid rgba(0,0,0,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.74), rgba(255,255,255,.48)),
    radial-gradient(900px 420px at 12% 12%, rgba(74,144,226,.12), transparent 60%),
    radial-gradient(900px 420px at 90% 82%, rgba(211,47,47,.10), transparent 62%);
  box-shadow: var(--paper-shadow);
  padding: 14px;
}
.page-ganon .ganonRefsList{
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 10px;
}
.page-ganon .ganonRefsItem{
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,.12);
  background: rgba(255,255,255,.52);
  padding: 11px 12px;
}
.page-ganon .ganonRefsTop{
  display: grid;
  gap: 7px;
}
.page-ganon .ganonRefsTop p{
  margin: 0;
  line-height: 1.3;
}
.page-ganon .ganonRefsItem > p{
  margin: 8px 0 0;
  line-height: 1.25;
}

html[data-theme="dark"] .page-ganon :is(
  .ganonAppearances,
  .ganonAppearanceChip,
  .ganonLoreCard,
  .ganonDossierCard,
  .ganonGalleryEra,
  .ganonGalleryItem,
  .ganonRefsCard,
  .ganonRefsItem
){
  border-color: rgba(211,47,47,.50);
  background:
    linear-gradient(180deg, rgba(12,12,16,.94), rgba(6,6,10,.90)),
    radial-gradient(900px 420px at 16% 10%, rgba(211,47,47,.26), transparent 60%),
    radial-gradient(900px 420px at 86% 86%, rgba(74,144,226,.34), transparent 62%);
  box-shadow: 0 18px 36px rgba(0,0,0,.44);
}
html[data-theme="dark"] .page-ganon :is(
  .ganonLoreHead p,
  .ganonLoreSummary,
  .ganonLoreList li,
  .ganonDossierList li,
  .ganonGalleryCaption span,
  .ganonRefsTop p,
  .ganonRefsItem > p
){
  color: rgba(232,238,249,.90);
}

.page-ganon [data-reveal]{
  opacity: 0;
  transform: translateY(10px);
  transition: opacity .55s ease, transform .55s ease;
  will-change: transform, opacity;
}
.page-ganon [data-reveal].is-visible{
  opacity: 1;
  transform: none;
}

@media (prefers-reduced-motion: reduce){
  .page-ganon [data-reveal]{
    transition:none !important;
    transform:none !important;
    opacity:1 !important;
  }
  .page-ganon .ganonBand::before{ animation:none !important; }
  .page-ganon .filterBtn.is-active{ transform:none; }
}

/* =========================================
   Page Zelda — Princesse de la Sagesse
   Style aligné Chronologie/Index (parchemin)
   ========================================= */
.page-zelda{
  --zelda-accent: var(--blue);
  --zelda-glow: rgba(74,144,226,.22);
}

.page-zelda .hero-text{ position:relative; }
.page-zelda .zelda-heroSubtitle{ margin: 0; }

.page-zelda .rune-divider{
  position:relative;
  height: 1px;
  margin: 14px 0;
  background: linear-gradient(90deg, transparent, rgba(74,144,226,.55), rgba(242,201,76,.55), transparent);
}
.page-zelda .rune-divider::after{
  content:"✦";
  position:absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 34px;
  height: 24px;
  display:grid;
  place-items:center;
  border-radius: 999px;
  border: 1px solid rgba(242,201,76,.40);
  background: rgba(255,255,255,.55);
  box-shadow: 0 12px 26px rgba(0,0,0,.10);
}

.page-zelda .zelda-summary{
  margin-top: 12px;
  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid rgba(0,0,0,.14);
  background:
    radial-gradient(800px 280px at 20% 0%, rgba(74,144,226,.14), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.70), rgba(255,255,255,.44));
  box-shadow: 0 16px 34px rgba(0,0,0,.10);
}
.page-zelda .zelda-summaryTitle{
  margin: 0 0 8px;
  font-family: var(--sub);
  letter-spacing: .55px;
  text-transform: uppercase;
  font-size: 1.02rem;
}
.page-zelda .zelda-summaryList{
  margin: 0;
  padding-left: 18px;
}
.page-zelda .zelda-summaryList li{ margin: 6px 0; }

.page-zelda .zelda-quote{
  margin: 12px 0 0;
  padding: 10px 12px;
  border-left: 4px solid rgba(242,201,76,.65);
  border-radius: 14px;
  background: rgba(74,144,226,.08);
}
.page-zelda .zelda-quote p{
  margin: 0;
  font-style: italic;
}

.page-zelda .zelda-subnav{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin-top: 14px;
}

.page-zelda .hero-card--zelda{
  position: relative;
  isolation: isolate;
  min-height: 320px;
}
.page-zelda .hero-card--zelda .hero-card-bg{
  width:100%;
  height:100%;
  min-height: 320px;
  object-fit: cover;
  aspect-ratio: auto;
}
.page-zelda .hero-card--zelda::before{
  content:"";
  position:absolute;
  inset:0;
  z-index: 1;
  pointer-events:none;
  background: linear-gradient(135deg, rgba(0,0,0,.55), rgba(0,0,0,.14) 45%, rgba(0,0,0,.62));
}
.page-zelda .hero-card--zelda::after{
  content:"";
  position:absolute;
  inset:0;
  z-index: 2;
  pointer-events:none;
  background:
    radial-gradient(760px 460px at 50% 35%, rgba(74,144,226,.30), transparent 60%),
    radial-gradient(760px 460px at 60% 78%, rgba(242,201,76,.18), transparent 62%);
  mix-blend-mode: screen;
  opacity: .78;
}
.page-zelda .hero-card--zelda .hero-card-sigil{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  z-index: 3;
  pointer-events:none;
}
.page-zelda .hero-card--zelda .hero-card-sigil svg{
  filter: drop-shadow(0 18px 40px rgba(0,0,0,.55));
}
.page-zelda .hero-card--zelda figcaption{
  position:absolute;
  left:0;
  right:0;
  bottom:0;
  z-index: 4;
  padding: 12px 14px;
  background: linear-gradient(180deg, transparent, rgba(0,0,0,.72));
  color: rgba(255,255,255,.88);
  border-top: 1px solid rgba(255,255,255,.10);
}
.page-zelda .zelda-code{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: .95em;
}

.page-zelda .zelda-prose{
  max-width: 76ch;
}
.page-zelda .zelda-prose p{
  margin: 0 0 12px;
  line-height: 1.35;
}

.page-zelda .zelda-accordion{
  margin-top: 10px;
  max-width: 76ch;
}
.page-zelda .zelda-accordionPanel{
  margin-top: 10px;
  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.52);
  box-shadow: 0 16px 34px rgba(0,0,0,.10);
}
.page-zelda .zelda-accordionPanel p{ margin: 0 0 10px; }
.page-zelda .zelda-accordionPanel p:last-child{ margin-bottom: 0; }

.page-zelda .zelda-grid{
  display: grid;
  gap: 14px;
}
@media (min-width: 860px){
  .page-zelda .zelda-powers{ grid-template-columns: repeat(3, 1fr); }
  .page-zelda .zelda-relations{ grid-template-columns: repeat(3, 1fr); }
}

.page-zelda .lore-card{
  border-radius: var(--radius);
  border: 1px solid rgba(0,0,0,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.74), rgba(255,255,255,.46)),
    radial-gradient(900px 500px at 18% 10%, rgba(242,201,76,.14), transparent 60%),
    radial-gradient(900px 500px at 82% 70%, rgba(74,144,226,.10), transparent 60%);
  box-shadow: var(--paper-shadow);
  padding: 14px;
  overflow:hidden;
  transition: box-shadow .18s ease, border-color .18s ease, transform .18s ease;
}
.page-zelda .lore-card:hover{
  border-color: rgba(74,144,226,.35);
  box-shadow: 0 18px 50px rgba(0,0,0,.18), 0 0 0 1px rgba(74,144,226,.10), 0 0 26px rgba(74,144,226,.10);
  transform: translateY(-1px);
}
.page-zelda .lore-card:focus-within{
  border-color: rgba(242,201,76,.65);
  box-shadow: 0 18px 50px rgba(0,0,0,.18), 0 0 0 2px rgba(242,201,76,.14);
}

.page-zelda .lore-cardHead{
  display:flex;
  align-items:center;
  gap: 10px;
  margin-bottom: 8px;
}
.page-zelda .lore-icon{
  width: 34px;
  height: 34px;
  display:grid;
  place-items:center;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.52);
  box-shadow: 0 12px 26px rgba(0,0,0,.10);
  flex: 0 0 auto;
}
.page-zelda .lore-note{
  margin: 8px 0 0;
  font-style: italic;
  color: var(--paper-muted);
}
.page-zelda .lore-list{
  margin: 10px 0 0;
  padding-left: 18px;
}
.page-zelda .lore-list li{ margin: 6px 0; }

.page-zelda .lore-card--relation{
  position:relative;
}
.page-zelda .lore-card--relation::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background: radial-gradient(900px 420px at 30% 20%, color-mix(in srgb, var(--accent) 22%, transparent), transparent 60%);
  opacity: .9;
}

.page-zelda .zelda-carouselHead{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap: 12px;
  flex-wrap:wrap;
  margin-bottom: 10px;
}
.page-zelda .zelda-carouselHint{ margin:0; }
.page-zelda .zelda-carouselControls{
  display:flex;
  gap: 10px;
}

.page-zelda .zelda-carouselTrack{
  display:flex;
  gap: 14px;
  overflow-x:auto;
  padding: 2px 2px 12px;
  scroll-snap-type: x mandatory;
  scrollbar-gutter: stable both-edges;
}
.page-zelda .zelda-carouselTrack:focus-visible{
  outline: 2px solid color-mix(in srgb, var(--gold) 55%, transparent);
  outline-offset: 4px;
  border-radius: 18px;
}
.page-zelda .zelda-slide{
  scroll-snap-align: start;
  min-width: min(360px, 88vw);
}
@media (min-width: 860px){
  .page-zelda .zelda-slide{ min-width: 420px; }
}

.page-zelda .zelda-figure{
  margin:0 0 10px;
  border-radius: 18px;
  overflow:hidden;
  border: 1px solid rgba(0,0,0,.12);
  background: rgba(255,255,255,.40);
}
.page-zelda .zelda-figure img{
  width:100%;
  height: 220px;
  object-fit: cover;
  display:block;
}
.page-zelda .zelda-figcap{
  padding: 10px 12px 12px;
}
.page-zelda .zelda-figcap h3{ margin:0; font-family: var(--title); letter-spacing: .2px; }
.page-zelda .zelda-figcap p{ margin:4px 0 0; }

.page-zelda .zelda-timelineWrap{
  border-radius: var(--radius);
  border: 1px solid rgba(0,0,0,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.44)),
    url("../assets/img/ui/paper_tile.png");
  background-size: auto, 420px 420px;
  box-shadow: var(--paper-shadow);
  overflow:hidden;
}
.page-zelda .zelda-timeline{
  position: relative;
  display:flex;
  gap: 14px;
  overflow-x:auto;
  padding: 18px 14px 16px;
  margin:0;
  list-style:none;
  scroll-snap-type: x mandatory;
}
.page-zelda .zelda-timeline::before{
  content:"";
  position:absolute;
  left: 14px;
  right: 14px;
  top: 46px;
  height: 2px;
  background: linear-gradient(90deg, transparent, rgba(242,201,76,.78), rgba(74,144,226,.28), rgba(242,201,76,.78), transparent);
  box-shadow: 0 0 22px rgba(74,144,226,.12);
  opacity:.95;
}
.page-zelda .timeline-item{
  position: relative;
  min-width: min(260px, 82vw);
  max-width: 320px;
  scroll-snap-align: start;
  padding-top: 8px;
}
.page-zelda .timeline-node{
  display:inline-block;
  width: 14px;
  height: 14px;
  border-radius: 999px;
  border: 2px solid rgba(242,201,76,.92);
  background: rgba(255,255,255,.65);
  box-shadow: 0 0 0 4px rgba(74,144,226,.10), 0 10px 18px rgba(0,0,0,.12);
  margin: 16px 0 10px;
}
.page-zelda .timeline-title{
  margin: 0 0 6px;
  font-family: var(--title);
  letter-spacing: .2px;
  font-size: 1.05rem;
}
.page-zelda .timeline-text{
  margin: 0;
  line-height: 1.25;
}

.page-zelda [data-reveal]{
  opacity: 0;
  transform: translateY(10px);
  transition: opacity .55s ease, transform .55s ease;
  will-change: transform, opacity;
}
.page-zelda [data-reveal].is-visible{
  opacity: 1;
  transform: none;
}

@media (prefers-reduced-motion: reduce){
  .page-zelda [data-reveal]{
    transition:none !important;
    transform:none !important;
    opacity:1 !important;
  }
  .page-zelda .lore-card{ transition:none !important; }
  .page-zelda .lore-card:hover{ transform:none; }
}

/* =========================================
   Page Link — Héros du Courage
   ========================================= */
.page-link{
  --link-forest: var(--blue);
  --link-blue: var(--blue);
  --link-gold: var(--gold);
}

.page-link .linkSubtitle{ margin: 0; }

.page-link .linkOrigin{
  display:flex;
  align-items:baseline;
  gap:10px;
  flex-wrap:wrap;
  margin-top: 12px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px dashed color-mix(in srgb, var(--blue) 35%, transparent);
  background: rgba(74,144,226,.08);
}
.page-link .bookShell .linkOrigin{
  background: rgba(255,255,255,.55);
  border-color: color-mix(in srgb, var(--blue) 40%, var(--paper-line));
}
.page-link .linkOriginTitle{
  font-family: var(--sub);
  letter-spacing: .5px;
  text-transform: uppercase;
  font-size: .95rem;
}
.page-link .linkOriginGame{
  font-family: var(--title);
  letter-spacing: .2px;
}
.page-link .linkOriginHint{ font-size: .95rem; }

.page-link .linkCode{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: .95em;
}

.page-link .link-summary{
  margin-top: 12px;
  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid rgba(0,0,0,.14);
  background:
    radial-gradient(800px 280px at 20% 0%, rgba(74,144,226,.14), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.70), rgba(255,255,255,.44));
  box-shadow: 0 16px 34px rgba(0,0,0,.10);
}
.page-link .link-summaryTitle{
  margin: 0 0 8px;
  font-family: var(--sub);
  letter-spacing: .55px;
  text-transform: uppercase;
  font-size: 1.02rem;
}
.page-link .link-summaryList{
  margin: 0;
  padding-left: 18px;
}
.page-link .link-summaryList li{ margin: 6px 0; }

.page-link .link-quote{
  margin: 12px 0 0;
  padding: 10px 12px;
  border-left: 4px solid rgba(74,144,226,.55);
  border-radius: 14px;
  background: rgba(74,144,226,.08);
}
.page-link .link-quote p{
  margin: 0;
  font-style: italic;
}
.page-link .link-subnav{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin-top: 14px;
}

.page-link .hero-card--link{
  position:relative;
  isolation:isolate;
  min-height: 320px;
}
.page-link .hero-card--link .hero-card-bg{
  width:100%;
  height:100%;
  min-height: 320px;
  object-fit: cover;
  aspect-ratio: auto;
}
.page-link .hero-card--link::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index: 1;
  background: linear-gradient(135deg, rgba(0,0,0,.55), rgba(0,0,0,.12) 45%, rgba(0,0,0,.64));
}
.page-link .hero-card--link::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index: 2;
  background:
    radial-gradient(700px 420px at 50% 40%, rgba(74,144,226,.30), transparent 60%),
    radial-gradient(700px 420px at 65% 75%, rgba(242,201,76,.18), transparent 60%);
  mix-blend-mode: screen;
  opacity: .78;
}
.page-link .hero-card--link .hero-card-badge{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  z-index: 3;
  pointer-events:none;
}
.page-link .hero-card--link .hero-card-badge svg{
  filter: drop-shadow(0 18px 40px rgba(0,0,0,.55));
}
.page-link .hero-card--link figcaption{
  position:absolute;
  left:0;
  right:0;
  bottom:0;
  z-index: 4;
  padding: 12px 14px;
  background: linear-gradient(180deg, transparent, rgba(0,0,0,.72));
  color: rgba(255,255,255,.88);
  border-top: 1px solid rgba(255,255,255,.10);
}

.page-link .linkProse p{
  margin: 10px 0 0;
  line-height: 1.32;
}

.page-link .linkMeaning{
  margin-top: 14px;
  border-radius: var(--radius);
  border: 1px solid rgba(0,0,0,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.44)),
    radial-gradient(900px 500px at 18% 10%, rgba(74,144,226,.12), transparent 60%),
    radial-gradient(900px 500px at 82% 70%, rgba(242,201,76,.10), transparent 60%);
  box-shadow: var(--paper-shadow);
  padding: 14px;
}
.page-link .linkMeaning h3{
  margin: 0 0 8px;
  font-family: var(--title);
  letter-spacing: .2px;
}
.page-link .linkMeaningList{
  margin: 0;
  padding-left: 18px;
}
.page-link .linkMeaningList li{ margin: 6px 0; }

.page-link .linkFilters{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin: 10px 0 16px;
}
.page-link .filterBtn.is-active{
  border-color: color-mix(in srgb, var(--blue) 55%, transparent);
  box-shadow: 0 14px 28px rgba(0,0,0,.14);
  transform: translateY(-1px);
}

.page-link .linkGrid{
  display:grid;
  gap: 14px;
}
@media (min-width: 820px){
  .page-link .linkGrid--who{ grid-template-columns: repeat(3, 1fr); }
  .page-link .linkGrid--skills{ grid-template-columns: repeat(3, 1fr); }
  .page-link .linkGrid--relations{ grid-template-columns: repeat(3, 1fr); }
}
@media (min-width: 980px){
  .page-link .linkGrid--cards{ grid-template-columns: repeat(3, 1fr); }
}

.page-link .linkCard{
  border-radius: var(--radius);
  border: 1px solid rgba(0,0,0,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.74), rgba(255,255,255,.46)),
    radial-gradient(900px 420px at 30% 20%, color-mix(in srgb, var(--accent) 22%, transparent), transparent 60%);
  box-shadow: var(--paper-shadow);
  padding: 14px;
  overflow:hidden;
}

.page-link .linkCardHead{
  display:flex;
  align-items:center;
  gap: 10px;
  margin-bottom: 8px;
}
.page-link .linkIcon{
  width: 34px;
  height: 34px;
  display:grid;
  place-items:center;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.52);
  box-shadow: 0 12px 26px rgba(0,0,0,.10);
  flex: 0 0 auto;
}

.page-link .linkFigure{
  margin: 0 0 10px;
  border-radius: 18px;
  overflow:hidden;
  border: 1px solid rgba(0,0,0,.12);
  background: rgba(255,255,255,.40);
}
.page-link .linkFigure img{
  width:100%;
  height: 200px;
  object-fit: cover;
  display:block;
}
.page-link .linkFigcap{
  padding: 10px 12px 12px;
}
.page-link .linkFigcap h3{ margin:0; font-family: var(--title); letter-spacing: .2px; font-size: 1.12rem; }
.page-link .linkFigcap p{ margin:4px 0 0; }

.page-link .linkTag span{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.14);
  background:
    radial-gradient(600px 200px at 20% 50%, color-mix(in srgb, var(--accent) 28%, transparent), transparent 55%),
    rgba(255,255,255,.42);
  font-family: var(--sub);
  letter-spacing: .35px;
  text-transform: uppercase;
  font-size: .78rem;
}

.page-link .linkList{
  margin: 10px 0 0;
  padding-left: 18px;
}
.page-link .linkList li{ margin: 6px 0; }

.page-link .linkRelationHead h3{
  margin: 0;
  font-family: var(--title);
  letter-spacing: .2px;
}
.page-link .linkRelationHead p{ margin:4px 0 0; }

.page-link .linkChecklist{
  list-style:none;
  margin: 0;
  padding: 0;
  display:grid;
  gap: 10px;
}
.page-link .linkCheckItem{
  display:flex;
  gap: 10px;
  align-items:flex-start;
  padding: 10px 12px;
  border-radius: 18px;
  border: 1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.55);
  box-shadow: 0 14px 30px rgba(0,0,0,.10);
}
.page-link .linkCheck{
  width: 26px;
  height: 26px;
  display:grid;
  place-items:center;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.14);
  background: rgba(242,201,76,.22);
  flex: 0 0 auto;
}
.page-link .linkCheckText{ line-height: 1.25; }

.page-link [data-reveal]{
  opacity: 0;
  transform: translateY(10px);
  transition: opacity .55s ease, transform .55s ease;
  will-change: transform, opacity;
}
.page-link [data-reveal].is-visible{
  opacity: 1;
  transform: none;
}

@media (prefers-reduced-motion: reduce){
  .page-link [data-reveal]{
    transition:none !important;
    transform:none !important;
    opacity:1 !important;
  }
  .page-link .filterBtn.is-active{ transform:none; }
}

/* =========================================
   Decades pages - sections upgrade
   ========================================= */
.page-decade .ficheDoc .section{
  position: relative;
  overflow: hidden;
  border-radius: 22px;
  padding: 18px;
  margin: 14px 0;
  border: 1px solid rgba(27,77,62,.40);
  background:
    linear-gradient(180deg, rgba(246,252,248,.96), rgba(232,243,255,.88)),
    radial-gradient(900px 420px at 10% 6%, rgba(27,77,62,.26), transparent 58%),
    radial-gradient(900px 420px at 88% 92%, rgba(74,144,226,.28), transparent 62%);
  box-shadow:
    0 20px 42px rgba(24,58,88,.16),
    inset 0 1px 0 rgba(255,255,255,.55);
}

.page-decade .ficheDoc .section::before{
  content: "";
  position: absolute;
  inset: 0 auto 0 0;
  width: 6px;
  background: linear-gradient(180deg, rgba(27,77,62,.98), rgba(74,144,226,.92));
  opacity: .9;
}

.page-decade .ficheDoc .section h2{
  position: relative;
  margin: 2px 0 14px;
  padding-bottom: 9px;
  letter-spacing: .45px;
  font-size: clamp(1.22rem, 1.8vw, 1.56rem);
}

.page-decade .ficheDoc .section h2::after{
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: min(210px, 72%);
  height: 2px;
  border-radius: 99px;
  background: linear-gradient(90deg, rgba(27,77,62,.92), rgba(74,144,226,.84) 70%, transparent);
}

.page-decade .ficheDoc .grid{
  gap: 14px;
}

.page-decade .ficheDoc .game{
  position: relative;
  border-radius: 18px;
  padding: 14px 14px 13px;
  border: 1px solid rgba(27,77,62,.30);
  background:
    linear-gradient(180deg, rgba(255,255,255,.92), rgba(236,248,255,.76)),
    radial-gradient(720px 280px at 14% 12%, rgba(27,77,62,.18), transparent 64%),
    radial-gradient(760px 300px at 86% 88%, rgba(74,144,226,.24), transparent 66%);
  box-shadow: 0 14px 30px rgba(24,58,88,.13);
  transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease;
}

.page-decade .ficheDoc .game:hover{
  transform: translateY(-2px);
  border-color: rgba(74,144,226,.62);
  box-shadow: 0 20px 36px rgba(24,58,88,.18);
}

.page-decade .ficheDoc .game h3{
  margin: 0 0 10px;
  font-size: 1.26rem;
  letter-spacing: .2px;
}

.page-decade .ficheDoc .meta{
  gap: 8px;
  margin-bottom: 10px;
}

.page-decade .ficheDoc .tag{
  padding: 7px 12px;
  border-radius: 999px;
  border: 1px solid rgba(126,126,126,.32);
  background:
    radial-gradient(500px 160px at 16% 36%, rgba(27,77,62,.18), transparent 56%),
    radial-gradient(520px 180px at 88% 70%, rgba(74,144,226,.28), transparent 60%),
    rgba(255,255,255,.82);
  box-shadow: 0 10px 22px rgba(24,58,88,.13);
  font-weight: 700;
}

.page-decade .ficheDoc .game ul{
  margin: 6px 0 0;
  padding-left: 1.18rem;
  display: grid;
  gap: 7px;
}

.page-decade .ficheDoc .game li{
  line-height: 1.38;
}

.page-decade .ficheDoc .game li::marker{
  color: rgba(27,77,62,.92);
}

html[data-theme="dark"] .page-decade .ficheDoc .section{
  border-color: rgba(211,47,47,.64);
  background:
    linear-gradient(180deg, rgba(9,9,12,.98), rgba(3,3,6,.96)),
    radial-gradient(900px 420px at 8% 8%, rgba(211,47,47,.34), transparent 58%),
    radial-gradient(900px 420px at 88% 92%, rgba(74,144,226,.34), transparent 60%);
  box-shadow:
    0 24px 48px rgba(0,0,0,.54),
    inset 0 1px 0 rgba(255,255,255,.05);
}

html[data-theme="dark"] .page-decade .ficheDoc .section::before{
  background: linear-gradient(180deg, rgba(211,47,47,.98), rgba(74,144,226,.94));
}

html[data-theme="dark"] .page-decade .ficheDoc .section h2{
  color: rgba(255,205,205,.96);
}

html[data-theme="dark"] .page-decade .ficheDoc .section h2::after{
  background: linear-gradient(90deg, rgba(211,47,47,.94), rgba(74,144,226,.88) 72%, transparent);
}

html[data-theme="dark"] .page-decade .ficheDoc .game{
  border-color: rgba(211,47,47,.66);
  background:
    linear-gradient(180deg, rgba(16,16,20,.92), rgba(6,6,9,.90)),
    radial-gradient(640px 240px at 14% 8%, rgba(211,47,47,.28), transparent 64%),
    radial-gradient(760px 300px at 88% 90%, rgba(74,144,226,.30), transparent 66%);
  box-shadow: 0 16px 34px rgba(0,0,0,.50);
}

html[data-theme="dark"] .page-decade .ficheDoc .game:hover{
  border-color: rgba(74,144,226,.74);
  box-shadow: 0 22px 38px rgba(0,0,0,.56);
}

html[data-theme="dark"] .page-decade .ficheDoc .game h3{
  color: rgba(255,214,214,.98);
}

html[data-theme="dark"] .page-decade .ficheDoc .game p,
html[data-theme="dark"] .page-decade .ficheDoc .game ul,
html[data-theme="dark"] .page-decade .ficheDoc .game li{
  color: rgba(236,238,248,.92);
}

html[data-theme="dark"] .page-decade .ficheDoc .meta{
  color: rgba(188,214,248,.94);
}

html[data-theme="dark"] .page-decade .ficheDoc .tag{
  border-color: rgba(74,144,226,.60);
  background:
    radial-gradient(520px 170px at 18% 35%, rgba(211,47,47,.38), transparent 58%),
    radial-gradient(540px 180px at 86% 66%, rgba(74,144,226,.42), transparent 62%),
    rgba(0,0,0,.60);
  color: rgba(232,240,255,.96);
}

html[data-theme="dark"] .page-decade .ficheDoc .game li::marker{
  color: rgba(211,47,47,.95);
}

@media (max-width: 720px){
  .page-decade .ficheDoc .section{
    padding: 14px 12px;
    border-radius: 18px;
  }
  .page-decade .ficheDoc .game{
    padding: 12px;
    border-radius: 16px;
  }
  .page-decade .ficheDoc .game h3{
    font-size: 1.14rem;
  }
}

/* =========================================
   Decades pages - align layout with ganon page
   (hero top + flowing sections)
   ========================================= */
.page-decade .bookShell .spine{
  display: none;
}

.page-decade .ficheSpread{
  display: block;
  border: 0;
  background: transparent;
  box-shadow: none;
  margin: 0;
  overflow: visible;
}

.page-decade .fichePage{
  min-height: auto;
  padding: 0;
  background: transparent;
  box-shadow: none;
}

.page-decade .fichePage::before,
.page-decade .fichePage::after{
  display: none;
}

/* Hero (old left page) */
.page-decade .fichePage--left{
  margin: 0 0 18px;
  padding: 18px;
  border-radius: var(--radius);
  border: 1px solid var(--line);
  background: var(--card-bg);
  box-shadow: var(--paper-shadow);
  display: grid;
  grid-template-columns: 1.05fr .95fr;
  gap: 14px;
  align-items: start;
}

.page-decade .folioHead{
  margin: 0;
  padding: 0;
  border: 0;
}

.page-decade .folioKicker{
  opacity: .88;
}

.page-decade .folioTitle{
  font-size: clamp(1.5rem, 2.8vw, 2rem);
}

.page-decade .folioSub{
  font-size: 1.04rem;
}

.page-decade .folioArt{
  margin: 0;
  min-height: 230px;
}

.page-decade .folioArt img{
  height: 100%;
  min-height: 230px;
}

.page-decade .folioNav{
  grid-column: 1 / -1;
  margin-top: 2px;
  display: flex;
  flex-wrap: wrap;
  gap: 9px;
}

.page-decade .folioNav a{
  padding: 9px 12px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.16);
  background: rgba(255,255,255,.65);
  text-decoration: none;
}

.page-decade .folioNav a.is-active{
  border-color: rgba(242,201,76,.72);
  background: rgba(242,201,76,.28);
}

/* Content area (old right page) */
.page-decade .fichePage--right{
  margin: 0;
}

.page-decade .ficheDoc h1{
  margin: 0 0 8px;
  font-size: clamp(1.5rem, 2.6vw, 2rem);
}

.page-decade .ficheDoc .subhead{
  margin: 0 0 14px;
}

.page-decade .decadePager{
  margin-top: 16px;
  padding-top: 14px;
}

@media (max-width: 980px){
  .page-decade .fichePage--left{
    grid-template-columns: 1fr;
    padding: 14px;
  }
  .page-decade .folioArt{
    min-height: 200px;
  }
  .page-decade .folioArt img{
    min-height: 200px;
  }
  .page-decade .folioNav{
    gap: 8px;
  }
}

/* =========================================
   Global palette harmonization (ganon/zelda/link)
   + edge background fix
   ========================================= */
:root{
  --pal-forest: #1B4D3E;
  --pal-gold: #F2C94C;
  --pal-blue: #4A90E2;
  --pal-stone: #7E7E7E;
  --pal-ruby: #D32F2F;
}

/* Fix black strip / edge artifacts on some screens */
html{
  background-color: #0a1118;
}
html[data-theme="light"]{
  background-color: #e7efe8;
}
body{
  background-color: #0a1118;
  background-repeat: no-repeat;
  background-position: center var(--bg-focal-y);
  background-attachment: scroll;
}
html[data-theme="light"] body{
  background-color: #e7efe8;
}
@media (min-width: 1024px) and (pointer: fine){
  body{
    background-attachment: fixed;
  }
}

/* Slightly tie book edges to page background */
:is(.page-ganon, .page-zelda, .page-link, .page-decade) .bookShell{
  border-color: color-mix(in srgb, var(--panel-border) 70%, var(--pal-blue));
  box-shadow:
    0 24px 68px rgba(0,0,0,.30),
    0 0 0 1px rgba(74,144,226,.12);
}
html[data-theme="dark"] :is(.page-ganon, .page-zelda, .page-link, .page-decade) .bookShell{
  border-color: rgba(74,144,226,.26);
  box-shadow:
    0 26px 72px rgba(0,0,0,.42),
    0 0 0 1px rgba(211,47,47,.14);
}

/* Shared palette direction on character pages */
.page-ganon{
  --ganon-defeat: var(--pal-ruby);
  --ganon-child: var(--pal-blue);
  --ganon-adult: var(--pal-forest);
}
.page-zelda{
  --zelda-accent: var(--pal-blue);
  --zelda-glow: rgba(74,144,226,.24);
}
.page-link{
  --link-forest: var(--pal-forest);
  --link-blue: var(--pal-blue);
  --link-gold: var(--pal-gold);
}

:is(.page-ganon, .page-zelda, .page-link) :is(
  .ganonOrigin,
  .linkOrigin,
  .zelda-summary,
  .zelda-accordionPanel,
  .ganonGameCard,
  .ganonModernCard,
  .ganonAccordionPanel,
  .ganonLegend,
  .lore-card,
  .zelda-timelineWrap,
  .zelda-figure,
  .link-summary,
  .linkMeaning,
  .linkCard,
  .linkCheckItem
){
  border-color: rgba(126,126,126,.30);
  background:
    linear-gradient(180deg, rgba(255,255,255,.86), rgba(243,249,255,.72)),
    radial-gradient(900px 420px at 18% 8%, rgba(27,77,62,.14), transparent 60%),
    radial-gradient(900px 420px at 86% 88%, rgba(74,144,226,.20), transparent 62%);
}

.page-ganon .ganonBand::before{
  background:
    radial-gradient(900px 520px at 20% 20%, rgba(74,144,226,.26), transparent 60%),
    radial-gradient(900px 520px at 80% 30%, rgba(74,144,226,.24), transparent 60%),
    radial-gradient(900px 520px at 50% 80%, rgba(211,47,47,.20), transparent 60%);
}

:is(.page-ganon, .page-link, .page-zelda) .filterBtn.is-active{
  border-color: rgba(74,144,226,.66);
  box-shadow:
    0 14px 30px rgba(24,58,88,.18),
    0 0 0 1px rgba(27,77,62,.14);
}

:is(.page-ganon, .page-link) :is(.ganonOrigin, .linkOrigin){
  border-color: rgba(74,144,226,.52);
}

:is(.page-ganon, .page-link, .page-zelda) :is(.ganonGameTag span, .linkTag span){
  border-color: rgba(126,126,126,.34);
  background:
    radial-gradient(640px 220px at 20% 50%, rgba(27,77,62,.16), transparent 56%),
    radial-gradient(640px 220px at 86% 66%, rgba(74,144,226,.22), transparent 58%),
    rgba(255,255,255,.46);
}

/* Dark mode: noir + rubis + bleu */
html[data-theme="dark"] :is(.page-ganon, .page-zelda, .page-link) :is(
  .ganonOrigin,
  .linkOrigin,
  .zelda-summary,
  .zelda-accordionPanel,
  .ganonGameCard,
  .ganonModernCard,
  .ganonAccordionPanel,
  .ganonLegend,
  .lore-card,
  .zelda-timelineWrap,
  .zelda-figure,
  .link-summary,
  .linkMeaning,
  .linkCard,
  .linkCheckItem
){
  border-color: rgba(211,47,47,.54);
  background:
    linear-gradient(180deg, rgba(12,12,16,.94), rgba(6,6,10,.92)),
    radial-gradient(900px 420px at 16% 10%, rgba(211,47,47,.30), transparent 60%),
    radial-gradient(900px 420px at 86% 88%, rgba(74,144,226,.34), transparent 62%);
  box-shadow: 0 18px 36px rgba(0,0,0,.44);
}

html[data-theme="dark"] :is(.page-ganon, .page-zelda, .page-link) :is(
  .ganonGameBody p,
  .ganonModernHead p,
  .ganonLegend p,
  .zelda-quote p,
  .zelda-prose p,
  .linkProse p,
  .linkMeaning p,
  .linkFigcap p
){
  color: rgba(232,238,249,.90);
}

html[data-theme="dark"] :is(.page-ganon, .page-zelda, .page-link) :is(
  .ganonGameTag span,
  .linkTag span
){
  border-color: rgba(74,144,226,.60);
  background:
    radial-gradient(560px 190px at 20% 38%, rgba(211,47,47,.38), transparent 58%),
    radial-gradient(560px 190px at 84% 70%, rgba(74,144,226,.42), transparent 62%),
    rgba(0,0,0,.56);
  color: rgba(232,240,255,.96);
}

/* =========================================
   Ganon: remove wide band veil + darker mood in dark mode
   ========================================= */
.page-ganon .ganonBand{
  width: auto;
  margin: 14px 0 0;
  padding: 0;
  overflow: visible;
  border: 0;
  background: transparent;
}
.page-ganon .ganonBand::before,
.page-ganon .ganonBand::after{
  content: none;
  display: none;
}

html[data-theme="dark"] body.page-ganon{
  background:
    radial-gradient(1100px 760px at 18% 0%, rgba(74,144,226,.14), transparent 58%),
    radial-gradient(900px 620px at 82% 18%, rgba(211,47,47,.12), transparent 60%),
    linear-gradient(180deg, rgba(4,7,12,.78), rgba(2,4,8,.92)),
    url("../assets/img/ui/bg_dark.png");
  background-size: cover, cover, cover, cover;
  background-position: center top, center top, center top, center var(--bg-focal-y);
  background-repeat: no-repeat;
  background-attachment: fixed, fixed, fixed, fixed;
}

html[data-theme="dark"] body.page-ganon .bookShell{
  background: linear-gradient(180deg, rgba(8,10,14,.95), rgba(5,7,11,.93));
  border-color: rgba(74,144,226,.24);
  box-shadow:
    0 30px 80px rgba(0,0,0,.55),
    0 0 0 1px rgba(211,47,47,.16);
  color: rgba(232,238,249,.95);
}
html[data-theme="dark"] body.page-ganon .bookShell::before{
  background:
    radial-gradient(1100px 640px at 20% 8%, rgba(74,144,226,.22), transparent 62%),
    radial-gradient(1100px 640px at 86% 82%, rgba(211,47,47,.20), transparent 64%),
    linear-gradient(180deg, rgba(8,11,18,.28), rgba(3,5,10,.22));
  opacity: .64;
  mix-blend-mode: screen;
}
html[data-theme="dark"] body.page-ganon .bookShell::after{
  content: none;
  display: none;
}

html[data-theme="dark"] body.page-ganon .pageTurn::before,
html[data-theme="dark"] body.page-ganon .pageTurn::after{
  content: none;
  display: none;
}

html[data-theme="dark"] body.page-ganon :is(.hero-text, .portal){
  border-color: rgba(74,144,226,.24);
  background:
    linear-gradient(180deg, rgba(10,12,18,.94), rgba(6,8,12,.92)),
    radial-gradient(900px 420px at 16% 10%, rgba(211,47,47,.24), transparent 60%),
    radial-gradient(900px 420px at 86% 88%, rgba(74,144,226,.28), transparent 62%);
  color: rgba(232,238,249,.95);
}
html[data-theme="dark"] body.page-ganon :is(.hero p, .section-head p){
  color: rgba(198,214,232,.88);
}

html[data-theme="dark"] body.page-ganon .ganonOrigin{
  border-color: rgba(74,144,226,.55);
  background:
    linear-gradient(180deg, rgba(3,5,9,.90), rgba(6,8,12,.92)),
    radial-gradient(500px 160px at 20% 40%, rgba(211,47,47,.20), transparent 62%),
    radial-gradient(500px 160px at 84% 70%, rgba(74,144,226,.26), transparent 62%);
  color: rgba(232,240,255,.95);
}
html[data-theme="dark"] body.page-ganon .ganonOriginTitle{
  color: rgba(242,201,76,.95);
}
html[data-theme="dark"] body.page-ganon .ganonOriginGame{
  color: rgba(182,214,255,.95);
}
html[data-theme="dark"] body.page-ganon .ganonOriginHint{
  color: rgba(206,220,238,.82);
}

/* =========================================
   Site-wide dark mode lock + unified dark mood
   ========================================= */
html[data-theme="dark"]{
  color-scheme: dark;
}

html[data-theme="dark"] body{
  background:
    radial-gradient(1200px 820px at 18% 0%, rgba(74,144,226,.14), transparent 58%),
    radial-gradient(980px 680px at 84% 18%, rgba(211,47,47,.11), transparent 60%),
    linear-gradient(180deg, rgba(4,7,12,.70), rgba(2,4,8,.88)),
    url("../assets/img/ui/bg_dark.png");
  background-size: cover, cover, cover, cover;
  background-position: center top, center top, center top, center var(--bg-focal-y);
  background-repeat: no-repeat;
  background-attachment: fixed, fixed, fixed, fixed;
}

html[data-theme="dark"] :is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .bookShell{
  background: linear-gradient(180deg, rgba(8,10,14,.95), rgba(5,7,11,.93));
  border-color: rgba(74,144,226,.24);
  box-shadow:
    0 30px 80px rgba(0,0,0,.55),
    0 0 0 1px rgba(211,47,47,.16);
  color: rgba(232,238,249,.95);
}

html[data-theme="dark"] :is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .bookShell::before{
  background:
    radial-gradient(1100px 640px at 20% 8%, rgba(74,144,226,.22), transparent 62%),
    radial-gradient(1100px 640px at 86% 82%, rgba(211,47,47,.20), transparent 64%),
    linear-gradient(180deg, rgba(8,11,18,.28), rgba(3,5,10,.22));
  opacity: .62;
  mix-blend-mode: screen;
}

html[data-theme="dark"] :is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .bookShell::after{
  content: none;
  display: none;
}

html[data-theme="dark"] :is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .pageTurn::before,
html[data-theme="dark"] :is(.page-chronologie, .page-decade, .page-ganon, .page-zelda, .page-link, .page-accueil) .pageTurn::after{
  content: none;
  display: none;
}

html[data-theme="dark"] .siteFooter .footerCard{
  border-color: rgba(74,144,226,.26);
  background:
    linear-gradient(180deg, rgba(10,12,18,.94), rgba(6,8,12,.92)),
    radial-gradient(900px 500px at 18% 10%, rgba(211,47,47,.20), transparent 60%),
    radial-gradient(900px 500px at 82% 70%, rgba(74,144,226,.24), transparent 60%);
  box-shadow: 0 22px 44px rgba(0,0,0,.44);
}

html[data-theme="dark"] .siteFooter .footerBrandLink span{
  color: rgba(242,201,76,.94);
}

html[data-theme="dark"] .siteFooter p.footerTagline,
html[data-theme="dark"] .siteFooter p.footerNote{
  color: rgba(206,220,238,.84) !important;
}

html[data-theme="dark"] .siteFooter .footerNav a,
html[data-theme="dark"] .siteFooter a.footerTop{
  border-color: rgba(74,144,226,.32);
  background: rgba(0,0,0,.34);
  color: rgba(232,240,255,.95);
}

html[data-theme="dark"] .siteFooter .footerNav a:hover,
html[data-theme="dark"] .siteFooter .footerNav a:focus-visible,
html[data-theme="dark"] .siteFooter a.footerTop:hover,
html[data-theme="dark"] .siteFooter a.footerTop:focus-visible{
  border-color: rgba(211,47,47,.58);
  background:
    radial-gradient(520px 160px at 16% 40%, rgba(211,47,47,.26), transparent 58%),
    radial-gradient(520px 160px at 84% 70%, rgba(74,144,226,.26), transparent 62%),
    rgba(0,0,0,.46);
  color: rgba(242,201,76,.96);
}

/* =========================================
   Zelda dark mode readability boost (green + Hylia blue)
   ========================================= */
html[data-theme="dark"] body.page-zelda{
  --zelda-neon-green: #41e39f;
  --zelda-hylia-blue: #79d9ff;
}

html[data-theme="dark"] body.page-zelda .hero-text{
  border-color: rgba(121,217,255,.34);
  background:
    linear-gradient(180deg, rgba(9,12,20,.94), rgba(6,9,14,.92)),
    radial-gradient(900px 420px at 14% 10%, rgba(65,227,159,.18), transparent 60%),
    radial-gradient(900px 420px at 86% 88%, rgba(121,217,255,.24), transparent 62%);
  color: rgba(234,244,255,.96);
}

html[data-theme="dark"] body.page-zelda .hero h1{
  color: var(--zelda-hylia-blue);
  text-shadow:
    0 0 16px rgba(121,217,255,.34),
    0 2px 10px rgba(0,0,0,.55);
}

html[data-theme="dark"] body.page-zelda .zelda-heroSubtitle{
  color: var(--zelda-neon-green);
  text-shadow: 0 0 12px rgba(65,227,159,.24);
}

html[data-theme="dark"] body.page-zelda .rune-divider{
  background: linear-gradient(90deg, transparent, rgba(65,227,159,.70), rgba(121,217,255,.75), transparent);
}
html[data-theme="dark"] body.page-zelda .rune-divider::after{
  border-color: rgba(121,217,255,.60);
  background: rgba(5,10,16,.92);
  color: var(--zelda-hylia-blue);
}

html[data-theme="dark"] body.page-zelda .zelda-summary{
  border-color: rgba(65,227,159,.45);
  background:
    linear-gradient(180deg, rgba(8,11,18,.95), rgba(4,7,12,.93)),
    radial-gradient(860px 280px at 20% 0%, rgba(121,217,255,.20), transparent 62%),
    radial-gradient(860px 280px at 84% 70%, rgba(65,227,159,.14), transparent 62%);
}

html[data-theme="dark"] body.page-zelda .zelda-summaryTitle{
  color: var(--zelda-hylia-blue);
  text-shadow: 0 0 10px rgba(121,217,255,.22);
}

html[data-theme="dark"] body.page-zelda :is(.zelda-summaryList li, .zelda-quote p){
  color: rgba(232,241,255,.96);
}
html[data-theme="dark"] body.page-zelda .zelda-summaryList li::marker{
  color: var(--zelda-neon-green);
}

html[data-theme="dark"] body.page-zelda .zelda-quote{
  border-left-color: var(--zelda-neon-green);
  background:
    radial-gradient(720px 200px at 14% 35%, rgba(65,227,159,.14), transparent 60%),
    radial-gradient(720px 200px at 86% 75%, rgba(121,217,255,.16), transparent 62%),
    rgba(5,9,16,.80);
}

html[data-theme="dark"] body.page-zelda .section-head h2{
  color: var(--zelda-hylia-blue);
  text-shadow: 0 0 10px rgba(121,217,255,.20);
}
html[data-theme="dark"] body.page-zelda .section-head p{
  color: rgba(167,230,204,.92);
}

/* =========================================
   Global dark readability boost (all pages)
   ========================================= */
html[data-theme="dark"] :is(
  body.page-accueil,
  body.page-chronologie,
  body.page-decade,
  body.page-ganon,
  body.page-zelda,
  body.page-link,
  body.page-game
){
  --site-neon-green: #41e39f;
  --site-hylia-blue: #79d9ff;
  --site-text-bright: rgba(232,241,255,.96);
  --site-text-soft: rgba(170,232,206,.92);
}

html[data-theme="dark"] :is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) :is(
  .hero h1,
  .section-head h2,
  .portal-top h3,
  .timeline-title,
  .folioTitle,
  .ficheDoc h1,
  .ficheDoc h2,
  .ficheDoc h3,
  .panel h1,
  .panel h2
){
  color: var(--site-hylia-blue);
  text-shadow: 0 0 12px rgba(121,217,255,.22), 0 2px 10px rgba(0,0,0,.52);
}

html[data-theme="dark"] :is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) :is(
  .hero p,
  .section-head p,
  .portal-top p,
  .ganonSubtitle,
  .zelda-heroSubtitle,
  .linkSubtitle,
  .folioSub,
  .ficheDoc .subhead,
  .panel .muted,
  .hint,
  .foot,
  .meta,
  .muted
){
  color: var(--site-text-soft);
}

html[data-theme="dark"] :is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) main :is(
  p,
  li,
  .timeline-text
){
  color: var(--site-text-bright);
}

html[data-theme="dark"] :is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) main ul li::marker,
html[data-theme="dark"] :is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) main ol li::marker{
  color: var(--site-neon-green);
}

html[data-theme="dark"] :is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) :is(
  .hero-text,
  .portal,
  .mini-game-callout,
  .lore-card,
  .linkCard,
  .ganonGameCard,
  .ganonModernCard,
  .ganonLoreCard,
  .ganonDossierCard,
  .ganonGalleryEra,
  .ganonRefsCard,
  .zelda-summary,
  .link-summary,
  .linkMeaning,
  .zelda-timelineWrap,
  .gameTopbar,
  .panel,
  .hud,
  .gameArtFigure,
  .ficheDoc .section,
  .ficheDoc .game
){
  border-color: rgba(121,217,255,.30);
  background:
    linear-gradient(180deg, rgba(9,12,20,.94), rgba(6,9,14,.92)),
    radial-gradient(900px 420px at 14% 10%, rgba(65,227,159,.14), transparent 60%),
    radial-gradient(900px 420px at 86% 88%, rgba(121,217,255,.18), transparent 62%);
}

html[data-theme="dark"] body.page-link .linkOrigin{
  border-color: rgba(121,217,255,.55);
  background:
    linear-gradient(180deg, rgba(4,7,12,.92), rgba(6,9,14,.94)),
    radial-gradient(560px 180px at 16% 40%, rgba(65,227,159,.22), transparent 60%),
    radial-gradient(560px 180px at 84% 70%, rgba(121,217,255,.24), transparent 62%);
  color: rgba(232,241,255,.96);
  box-shadow: 0 14px 30px rgba(0,0,0,.34);
}
html[data-theme="dark"] body.page-link .linkOriginTitle{
  color: rgba(65,227,159,.98);
  text-shadow: 0 0 10px rgba(65,227,159,.22);
}
html[data-theme="dark"] body.page-link .linkOriginGame{
  color: rgba(121,217,255,.98);
  text-shadow: 0 0 10px rgba(121,217,255,.24);
}
html[data-theme="dark"] body.page-link .linkOriginHint{
  color: rgba(206,220,238,.90);
}

/* =========================================
   Remove "book" frame globally (flat layout)
   ========================================= */
:is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) .bookShell{
  width: min(1100px, 92vw);
  margin: 16px auto 34px;
  padding: 0;
  border: 0;
  border-radius: 0;
  background: transparent;
  box-shadow: none;
  overflow: visible;
}

:is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) .bookShell::before,
:is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) .bookShell::after{
  content: none !important;
  display: none !important;
}

:is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) .bookShell.openBook{
  padding-left: 0;
  padding-right: 0;
}

:is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) :is(.spine, .bookmark){
  display: none !important;
}

:is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) .pageTurnStage{
  perspective: none;
}

:is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) .pageTurn{
  transform-style: flat;
}

:is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) .pageTurn::before,
:is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) .pageTurn::after{
  content: none !important;
  display: none !important;
}

:is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) .pageTurn.turn-enter,
:is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) .pageTurn.turn-leave{
  animation: none !important;
  transform: none !important;
  opacity: 1 !important;
  box-shadow: none !important;
}

/* =========================================
   Panneau central “parchemin” (milieu page)
   ========================================= */
:is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) .bookShell.panelShell{
  width: min(1180px, 94vw);
  margin: 18px auto 42px;
  padding: 20px 16px 34px;
  border: 1px solid var(--panel-border);
  border-radius: calc(var(--radius) + 14px);
  background:
    linear-gradient(180deg, rgba(255,255,255,.74), rgba(255,255,255,.56)),
    var(--panel-texture);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  box-shadow: 0 20px 80px rgba(0,0,0,.35);
  overflow: visible;
}

html[data-theme="dark"] :is(
  .page-accueil,
  .page-chronologie,
  .page-decade,
  .page-ganon,
  .page-zelda,
  .page-link,
  .page-game
) .bookShell.panelShell{
  background:
    radial-gradient(900px 700px at 50% 18%, rgba(0,0,0,.18), rgba(0,0,0,.26)),
    linear-gradient(180deg, rgba(255,255,255,.64), rgba(255,255,255,.48)),
    var(--panel-texture);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}
